-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Dec 04, 2025 at 03:36 PM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `currency_platform`
--

-- --------------------------------------------------------

--
-- Table structure for table `admins`
--

CREATE TABLE `admins` (
  `admin_id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `email` varchar(255) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `admins`
--

INSERT INTO `admins` (`admin_id`, `username`, `password_hash`, `email`, `phone`) VALUES
(1, 'admin', '$2y$10$QOt9mDGgkA1W.0BSxjMIv.vL6/Nj8q8KAEb1SVKMEDmX9Yiq7l2GG', 'zulyhtet77@gmail.com', '09876543212');

-- --------------------------------------------------------

--
-- Table structure for table `admin_password_resets`
--

CREATE TABLE `admin_password_resets` (
  `id` int(11) NOT NULL,
  `admin_id` int(11) NOT NULL,
  `token` varchar(191) NOT NULL,
  `expires_at` datetime NOT NULL,
  `used` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `admin_password_resets`
--

INSERT INTO `admin_password_resets` (`id`, `admin_id`, `token`, `expires_at`, `used`) VALUES
(1, 1, 'ed6320bb739d3b193c5996d4d92a56f1af779da13c7179d5033055a3960eac93', '2025-12-04 09:47:46', 1),
(2, 1, 'c24d1b8fb025272e2c0d5caa8623e93ee08ac8ba693270d0c55a124281c50ef8', '2025-12-04 09:52:42', 1),
(3, 1, '86a7c7eefe6fe44a6ed719a16261fc2891890654f530c3fb140bc29424a13bb5', '2025-12-04 09:56:43', 1),
(4, 1, '94284e1798d43b5f7ac2de4450cbcdd0c58f3521ee2888947c8173c366dcded6', '2025-12-04 10:00:22', 1),
(5, 1, '9a853ad22367783ffe3d099aef7dff1b263401b2db4d78094c50156af45f1399', '2025-12-04 10:03:20', 1),
(6, 1, 'f23e0f0cccaa486fec3dbeb4e55f0a606145e2438508ef9f4d61cc40d1bdfb87', '2025-12-04 10:09:17', 1),
(7, 1, '61d3bd5e1538c345c9cd7886256a8ec81a24df2966123f5fdebc7fa12fd62e40', '2025-12-04 10:12:38', 1),
(8, 1, '1e99293ca071b3339b67ef1f688068e2a6e2f41f8f5b062af32e6aea3e09ac52', '2025-12-04 10:14:59', 1),
(9, 1, 'ec93dd24fe1c01373aab96c2e19e8dec26f052c3face97f2290ff501cf1e5fcf', '2025-12-04 10:17:46', 1),
(10, 1, '79af7f14fccbb4c7a73c3e4cd68b7a4605dedbd80cd1a0c129591c9bb54bb022', '2025-12-04 10:23:07', 1),
(11, 1, 'a6ebefd68d6d5b4c02d86b99d44d215fd07500dc80ee24c9b8249b17965e86a6', '2025-12-04 10:24:45', 1),
(12, 1, 'aa14c6d69ba390971a5b8cebe42f9033276615764f7b2525ec8a9aeb75931ea1', '2025-12-04 10:28:20', 1),
(13, 1, 'e298b59561c088dfd6196ca0b9d9128e4bfe3051e476f5f04c640cd8369e5d5d', '2025-12-04 10:33:35', 1),
(14, 1, '0f953b469e43c8626d26e2f44bd496492d2d2a233ed74cd41baa56153f858655', '2025-12-04 10:34:53', 1),
(15, 1, 'cd69f3d0ca42dd99ef0901bf0e25299fa7c9895b6e42dcb3a3c85c3363c51fda', '2025-12-04 10:45:11', 1),
(16, 1, '6aa8a8e3eea813dea9de87cf62242d72f4d996a62876f683e0724041255508b2', '2025-12-04 10:47:01', 1),
(17, 1, '6f0e9dc41c96137f3a39a51fb0ca7bfdb925cfde013bec170ad9bf3796f379da', '2025-12-04 10:48:47', 1),
(18, 1, '3992c90694bf37b755fdbae54230910597c793e8ede1f8b8853911da62b40fe6', '2025-12-04 10:50:07', 1),
(19, 1, '11d8ae60f431072d6562e090db331ae1feb2ddbf69d91738086fd1152fa5abef', '2025-12-04 10:53:26', 1),
(20, 1, 'fd59164e55d17e3d21c2fbd632227656f509937c2d7874ed736955e30ae6cb18', '2025-12-04 10:55:33', 1);

-- --------------------------------------------------------

--
-- Table structure for table `admin_transactions`
--

CREATE TABLE `admin_transactions` (
  `transaction_id` int(11) NOT NULL,
  `admin_id` int(11) NOT NULL,
  `currency_id` int(11) NOT NULL,
  `amount` decimal(15,2) NOT NULL,
  `type` varchar(50) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `admin_transactions`
--

INSERT INTO `admin_transactions` (`transaction_id`, `admin_id`, `currency_id`, `amount`, `type`, `timestamp`) VALUES
(33, 1, 1, 10000.00, 'admin_deposit', '2025-10-15 07:08:33'),
(34, 1, 2, 100.00, 'admin_deposit', '2025-10-15 07:17:51'),
(35, 1, 1, 4000.00, 'admin_deposit', '2025-10-15 07:31:43'),
(36, 1, 2, 54.00, 'admin_deposit', '2025-10-15 07:31:58'),
(37, 1, 2, 46.00, 'admin_deposit', '2025-10-15 07:32:12'),
(38, 1, 1, 4682.00, 'admin_deposit', '2025-10-15 07:32:30'),
(39, 1, 2, 5.00, 'admin_deposit', '2025-10-15 08:23:08'),
(40, 1, 2, 120.00, 'admin_deposit', '2025-10-15 08:23:20'),
(41, 1, 2, 50.00, 'admin_deposit', '2025-10-15 08:23:25'),
(42, 1, 2, 20.00, 'admin_deposit', '2025-10-15 08:23:36'),
(43, 1, 1, 1000.00, 'admin_deposit', '2025-10-15 08:23:40'),
(44, 1, 1, 100.00, 'admin_deposit', '2025-10-15 09:17:18'),
(45, 1, 1, 100.00, 'admin_deposit', '2025-10-15 09:23:32'),
(46, 1, 2, 5.00, 'admin_deposit', '2025-10-16 06:53:57'),
(47, 1, 1, 1000000.00, 'admin_deposit', '2025-10-29 09:02:24'),
(48, 1, 1, 20000000000.00, 'admin_deposit', '2025-10-29 09:20:42');

-- --------------------------------------------------------

--
-- Table structure for table `admin_wallet`
--

CREATE TABLE `admin_wallet` (
  `wallet_id` int(11) NOT NULL,
  `admin_id` int(11) NOT NULL,
  `currency_id` int(11) NOT NULL,
  `balance` decimal(20,8) NOT NULL DEFAULT 0.00000000,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `admin_wallet`
--

INSERT INTO `admin_wallet` (`wallet_id`, `admin_id`, `currency_id`, `balance`, `updated_at`) VALUES
(32, 1, 2, 3452.81100000, '2025-12-03 08:35:53'),
(33, 1, 1, 18220700.11000000, '2025-12-04 09:29:10'),
(140, 1, 3, 1085.00000000, '2025-12-04 09:30:06'),
(145, 1, 4, 60.00050000, '2025-11-27 07:18:39');

-- --------------------------------------------------------

--
-- Table structure for table `bank_accounts`
--

CREATE TABLE `bank_accounts` (
  `currency_id` int(11) NOT NULL,
  `balance` decimal(15,2) NOT NULL DEFAULT 0.00
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `bank_accounts`
--

INSERT INTO `bank_accounts` (`currency_id`, `balance`) VALUES
(1, 79342710000.83),
(2, 42499.00);

-- --------------------------------------------------------

--
-- Table structure for table `bank_deposit_history`
--

CREATE TABLE `bank_deposit_history` (
  `id` int(11) NOT NULL,
  `admin_id` int(11) DEFAULT NULL,
  `currency_id` int(11) NOT NULL,
  `previous_balance` decimal(18,2) NOT NULL,
  `after_balance` decimal(18,2) NOT NULL,
  `amount` decimal(18,2) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `bank_deposit_history`
--

INSERT INTO `bank_deposit_history` (`id`, `admin_id`, `currency_id`, `previous_balance`, `after_balance`, `amount`, `created_at`) VALUES
(4, 1, 1, 32318.26, 42318.26, 10000.00, '2025-10-15 13:38:33'),
(5, 1, 2, 4100.73, 4200.73, 100.00, '2025-10-15 13:47:51'),
(6, 1, 1, 42318.26, 46318.26, 4000.00, '2025-10-15 14:01:43'),
(7, 1, 2, 4200.73, 4254.73, 54.00, '2025-10-15 14:01:58'),
(8, 1, 2, 4254.73, 4300.73, 46.00, '2025-10-15 14:02:12'),
(9, 1, 1, 46318.26, 51000.26, 4682.00, '2025-10-15 14:02:30'),
(10, 1, 2, 4300.73, 4305.73, 5.00, '2025-10-15 14:53:08'),
(11, 1, 2, 4305.73, 4425.73, 120.00, '2025-10-15 14:53:20'),
(12, 1, 2, 4425.73, 4475.73, 50.00, '2025-10-15 14:53:25'),
(13, 1, 2, 4475.73, 4495.73, 20.00, '2025-10-15 14:53:36'),
(14, 1, 1, 51000.26, 52000.26, 1000.00, '2025-10-15 14:53:40'),
(15, 1, 1, 52000.26, 52100.26, 100.00, '2025-10-15 15:47:18'),
(16, 1, 1, 52100.26, 52200.26, 100.00, '2025-10-15 15:53:32'),
(17, 1, 2, 4495.73, 4500.73, 5.00, '2025-10-16 13:23:57'),
(18, 1, 1, 5200.26, 1005200.26, 1000000.00, '2025-10-29 15:32:24'),
(19, 1, 1, 1005200.26, 20001005200.26, 20000000000.00, '2025-10-29 15:50:42');

-- --------------------------------------------------------

--
-- Table structure for table `chats`
--

CREATE TABLE `chats` (
  `chat_id` int(11) NOT NULL,
  `conversation_id` int(11) NOT NULL,
  `from_id` int(11) NOT NULL,
  `to_id` int(11) NOT NULL,
  `message` text NOT NULL,
  `opened` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `from_type` enum('user','admin') NOT NULL,
  `to_type` enum('user','admin') NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `conversations`
--

CREATE TABLE `conversations` (
  `conversation_id` int(11) NOT NULL,
  `user_1` int(11) NOT NULL,
  `user_2` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `currencies`
--

CREATE TABLE `currencies` (
  `currency_id` int(11) NOT NULL,
  `symbol` varchar(10) NOT NULL,
  `name` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `currencies`
--

INSERT INTO `currencies` (`currency_id`, `symbol`, `name`) VALUES
(1, 'MMK', 'Kyat'),
(2, 'USD', 'Dollar'),
(3, 'THB', 'Thai Baht'),
(4, 'JPY', 'Japanese Yen');

-- --------------------------------------------------------

--
-- Table structure for table `email_verification_otps`
--

CREATE TABLE `email_verification_otps` (
  `id` int(11) NOT NULL,
  `email` varchar(255) NOT NULL,
  `otp_code` varchar(10) NOT NULL,
  `expires_at` datetime NOT NULL,
  `attempts` int(11) NOT NULL DEFAULT 0,
  `verified` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `email_verification_otps`
--

INSERT INTO `email_verification_otps` (`id`, `email`, `otp_code`, `expires_at`, `attempts`, `verified`, `created_at`) VALUES
(2, 'zulyhtet@nmdc.edu.mm', '944038', '2025-10-30 08:35:36', 0, 1, '2025-10-30 13:50:36'),
(4, 'johan073612@gmail.com', '248363', '2025-10-30 09:54:19', 0, 1, '2025-10-30 15:09:19'),
(10, 'zulyhtet77@gmail.com', '344926', '2025-10-31 08:45:09', 0, 1, '2025-10-31 14:00:09'),
(11, 'maynandar18112004@gmail.com', '499467', '2025-11-07 07:58:40', 0, 1, '2025-11-07 13:13:40'),
(15, 'testingforproject1111@gmail.com', '258274', '2025-11-17 09:06:20', 0, 1, '2025-11-17 14:21:20'),
(16, 'ayeayemyat341535@gmail.com', '149515', '2025-11-27 08:38:18', 0, 1, '2025-11-27 13:53:18'),
(17, 'kaykhinebo.kkb@gmail.com', '680796', '2025-11-27 08:48:41', 0, 1, '2025-11-27 14:03:41');

-- --------------------------------------------------------

--
-- Table structure for table `email_verification_tokens`
--

CREATE TABLE `email_verification_tokens` (
  `id` int(11) NOT NULL,
  `email` varchar(255) NOT NULL,
  `token` varchar(128) NOT NULL,
  `expires_at` datetime NOT NULL,
  `verified` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `email_verification_tokens`
--

INSERT INTO `email_verification_tokens` (`id`, `email`, `token`, `expires_at`, `verified`, `created_at`) VALUES
(3, 'zulyhtet@nmdc.edu.mm', 'bcc9025ba4cf550e145453ce20c23e2f603d381df26d582bbecec87b0bb4588c', '2025-10-29 10:11:40', 0, '2025-10-28 15:41:40'),
(6, 'zulyhtet77@gmail.com', '393d1ffadefad95d984f1f7d99bc99763ffb2b6f2675dcde10a14a4c9ed4443c', '2025-10-30 08:27:48', 1, '2025-10-29 13:57:48');

-- --------------------------------------------------------

--
-- Table structure for table `exchange_rates`
--

CREATE TABLE `exchange_rates` (
  `rate_id` int(11) NOT NULL,
  `base_currency_id` int(11) NOT NULL,
  `target_currency_id` int(11) NOT NULL,
  `rate` decimal(20,8) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `exchange_rates`
--

INSERT INTO `exchange_rates` (`rate_id`, `base_currency_id`, `target_currency_id`, `rate`, `timestamp`) VALUES
(1, 2, 1, 4091.08922235, '2025-12-04 07:52:31'),
(2, 1, 2, 0.00024443, '2025-12-04 07:52:31'),
(99, 3, 1, 128.18707200, '2025-12-04 07:52:30'),
(100, 1, 3, 0.00780110, '2025-12-04 07:52:30'),
(101, 4, 1, 26.28475200, '2025-12-04 07:52:30'),
(102, 1, 4, 0.03804487, '2025-12-04 07:52:30'),
(129, 3, 4, 4.81954100, '2025-11-20 07:36:06'),
(130, 4, 3, 0.20748864, '2025-11-20 07:36:06');

-- --------------------------------------------------------

--
-- Table structure for table `exchange_rate_history`
--

CREATE TABLE `exchange_rate_history` (
  `history_id` int(11) NOT NULL,
  `base_currency_id` int(11) NOT NULL,
  `target_currency_id` int(11) NOT NULL,
  `rate` decimal(20,8) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_by` varchar(50) DEFAULT 'admin'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `exchange_rate_history`
--

INSERT INTO `exchange_rate_history` (`history_id`, `base_currency_id`, `target_currency_id`, `rate`, `timestamp`, `updated_by`) VALUES
(1, 2, 1, 3678.49068300, '2025-10-02 07:22:17', 'admin'),
(2, 1, 2, 0.00027185, '2025-10-02 07:22:17', 'admin'),
(3, 2, 1, 3783.59041680, '2025-10-02 07:22:48', 'admin'),
(4, 1, 2, 0.00026430, '2025-10-02 07:22:48', 'admin'),
(5, 2, 1, 3991.37683690, '2025-10-03 07:15:20', 'admin'),
(6, 1, 2, 0.00025054, '2025-10-03 07:15:20', 'admin'),
(7, 2, 1, 3781.30437180, '2025-10-03 07:30:04', 'admin'),
(8, 1, 2, 0.00026446, '2025-10-03 07:30:04', 'admin'),
(9, 2, 1, 4103.30664900, '2025-10-29 07:44:13', 'admin'),
(10, 1, 2, 0.00024371, '2025-10-29 07:44:13', 'admin'),
(11, 2, 1, 4095.86041605, '2025-10-30 08:57:42', 'admin'),
(12, 1, 2, 0.00024415, '2025-10-30 08:57:42', 'admin'),
(13, 2, 1, 4108.64413245, '2025-10-31 06:36:26', 'admin'),
(14, 1, 2, 0.00024339, '2025-10-31 06:36:26', 'admin'),
(15, 2, 1, 4093.40904180, '2025-11-05 08:25:28', 'admin'),
(16, 1, 2, 0.00024430, '2025-11-05 08:25:28', 'admin'),
(17, 2, 1, 4093.40904180, '2025-11-05 08:26:46', 'admin'),
(18, 1, 2, 0.00024430, '2025-11-05 08:26:46', 'admin'),
(19, 2, 1, 4092.29707185, '2025-11-06 06:28:00', 'admin'),
(20, 1, 2, 0.00024436, '2025-11-06 06:28:00', 'admin'),
(21, 2, 1, 3987.36637770, '2025-11-06 08:17:09', 'admin'),
(22, 1, 2, 0.00025079, '2025-11-06 08:17:09', 'admin'),
(23, 2, 1, 4092.29707185, '2025-11-06 09:17:29', 'admin'),
(24, 1, 2, 0.00024436, '2025-11-06 09:17:29', 'admin'),
(25, 2, 1, 3987.36637770, '2025-11-06 09:26:19', 'admin'),
(26, 1, 2, 0.00025079, '2025-11-06 09:26:19', 'admin'),
(27, 2, 1, 4089.11057490, '2025-11-07 06:24:24', 'admin'),
(28, 1, 2, 0.00024455, '2025-11-07 06:24:24', 'admin'),
(29, 2, 1, 4086.13983180, '2025-11-10 06:26:38', 'admin'),
(30, 1, 2, 0.00024473, '2025-11-10 06:26:38', 'admin'),
(31, 2, 1, 3981.36701560, '2025-11-10 06:27:25', 'admin'),
(32, 1, 2, 0.00025117, '2025-11-10 06:27:25', 'admin'),
(33, 1, 2, 0.00047700, '2025-11-11 07:54:42', 'admin'),
(34, 2, 1, 2096.43605870, '2025-11-11 07:54:42', 'admin'),
(35, 2, 1, 3986.03083540, '2025-11-11 08:03:48', 'admin'),
(36, 1, 2, 0.00025088, '2025-11-11 08:03:48', 'admin'),
(37, 2, 1, 4090.92638370, '2025-11-11 08:09:13', 'admin'),
(38, 1, 2, 0.00024444, '2025-11-11 08:09:13', 'admin'),
(39, 2, 1, 4090.92638370, '2025-11-11 08:22:11', 'admin'),
(40, 1, 2, 0.00024444, '2025-11-11 08:22:11', 'admin'),
(41, 1, 2, 0.00047700, '2025-11-11 08:22:19', 'admin'),
(42, 2, 1, 2096.43605870, '2025-11-11 08:22:19', 'admin'),
(43, 1, 2, 0.00047700, '2025-11-11 08:22:48', 'admin'),
(44, 2, 1, 2096.43605870, '2025-11-11 08:22:48', 'admin'),
(45, 2, 1, 4090.92638370, '2025-11-11 08:23:15', 'admin'),
(46, 1, 2, 0.00024444, '2025-11-11 08:23:15', 'admin'),
(47, 3, 1, 126.48733890, '2025-11-11 09:09:46', 'admin'),
(48, 1, 3, 0.00790593, '2025-11-11 09:09:46', 'admin'),
(49, 4, 1, 26.55843645, '2025-11-11 09:09:59', 'admin'),
(50, 1, 4, 0.03765282, '2025-11-11 09:09:59', 'admin'),
(51, 2, 1, 3986.03083540, '2025-11-11 09:25:55', 'admin'),
(52, 1, 2, 0.00025088, '2025-11-11 09:25:55', 'admin'),
(53, 4, 1, 25.83033280, '2025-11-12 06:22:40', 'admin'),
(54, 1, 4, 0.03871417, '2025-11-12 06:22:40', 'admin'),
(55, 3, 1, 122.84883390, '2025-11-12 06:22:40', 'admin'),
(56, 1, 3, 0.00814009, '2025-11-12 06:22:40', 'admin'),
(57, 2, 1, 3983.82612480, '2025-11-12 06:22:42', 'admin'),
(58, 1, 2, 0.00025101, '2025-11-12 06:22:42', 'admin'),
(59, 2, 1, 4088.66365440, '2025-11-12 06:24:06', 'admin'),
(60, 1, 2, 0.00024458, '2025-11-12 06:24:06', 'admin'),
(61, 4, 1, 26.51007840, '2025-11-12 06:38:40', 'admin'),
(62, 1, 4, 0.03772150, '2025-11-12 06:38:40', 'admin'),
(63, 3, 1, 126.08169795, '2025-11-12 06:39:02', 'admin'),
(64, 1, 3, 0.00793137, '2025-11-12 06:39:02', 'admin'),
(65, 4, 1, 26.42866395, '2025-11-13 06:20:46', 'admin'),
(66, 1, 4, 0.03783771, '2025-11-13 06:20:46', 'admin'),
(67, 3, 1, 125.88820725, '2025-11-13 06:20:46', 'admin'),
(68, 1, 3, 0.00794356, '2025-11-13 06:20:46', 'admin'),
(69, 2, 1, 4091.09966850, '2025-11-13 06:20:46', 'admin'),
(70, 1, 2, 0.00024443, '2025-11-13 06:20:46', 'admin'),
(71, 2, 1, 4091.09966850, '2025-11-13 06:36:47', 'admin'),
(72, 1, 2, 0.00024443, '2025-11-13 06:36:47', 'admin'),
(73, 4, 1, 26.42866395, '2025-11-13 08:23:49', 'admin'),
(74, 1, 4, 0.03783771, '2025-11-13 08:23:49', 'admin'),
(75, 3, 1, 125.88820725, '2025-11-13 08:23:57', 'admin'),
(76, 1, 3, 0.00794356, '2025-11-13 08:23:57', 'admin'),
(77, 3, 4, 4.77409100, '2025-11-13 08:24:30', 'admin'),
(78, 4, 3, 0.20946396, '2025-11-13 08:24:30', 'admin'),
(79, 4, 1, 26.44813275, '2025-11-14 05:41:13', 'admin'),
(80, 1, 4, 0.03780985, '2025-11-14 05:41:13', 'admin'),
(81, 3, 1, 126.56513025, '2025-11-14 05:41:13', 'admin'),
(82, 1, 3, 0.00790107, '2025-11-14 05:41:13', 'admin'),
(83, 2, 1, 4091.27744415, '2025-11-14 05:41:14', 'admin'),
(84, 1, 2, 0.00024442, '2025-11-14 05:41:14', 'admin'),
(85, 4, 1, 26.50483290, '2025-11-17 07:40:27', 'admin'),
(86, 1, 4, 0.03772897, '2025-11-17 07:40:27', 'admin'),
(87, 3, 1, 126.05102835, '2025-11-17 07:40:27', 'admin'),
(88, 1, 3, 0.00793330, '2025-11-17 07:40:27', 'admin'),
(89, 2, 1, 4084.89566550, '2025-11-17 07:40:27', 'admin'),
(90, 1, 2, 0.00024480, '2025-11-17 07:40:27', 'admin'),
(91, 4, 1, 26.37266190, '2025-11-19 06:32:10', 'admin'),
(92, 1, 4, 0.03791805, '2025-11-19 06:32:10', 'admin'),
(93, 3, 1, 126.12730455, '2025-11-19 06:32:10', 'admin'),
(94, 1, 3, 0.00792850, '2025-11-19 06:32:10', 'admin'),
(95, 2, 1, 4091.18057400, '2025-11-19 06:32:11', 'admin'),
(96, 1, 2, 0.00024443, '2025-11-19 06:32:11', 'admin'),
(97, 4, 1, 26.23395060, '2025-11-20 06:24:49', 'admin'),
(98, 1, 4, 0.03811854, '2025-11-20 06:24:49', 'admin'),
(99, 3, 1, 126.11973855, '2025-11-20 06:24:50', 'admin'),
(100, 1, 3, 0.00792897, '2025-11-20 06:24:50', 'admin'),
(101, 2, 1, 4090.91673120, '2025-11-20 06:24:50', 'admin'),
(102, 1, 2, 0.00024444, '2025-11-20 06:24:50', 'admin'),
(103, 2, 1, 3986.02143040, '2025-11-20 07:35:57', 'admin'),
(104, 1, 2, 0.00025088, '2025-11-20 07:35:57', 'admin'),
(105, 3, 4, 4.81954100, '2025-11-20 07:36:06', 'admin'),
(106, 4, 3, 0.20748864, '2025-11-20 07:36:06', 'admin'),
(107, 4, 1, 25.47191490, '2025-11-26 07:40:09', 'admin'),
(108, 1, 4, 0.03925893, '2025-11-26 07:40:09', 'admin'),
(109, 3, 1, 123.28542350, '2025-11-26 07:40:10', 'admin'),
(110, 1, 3, 0.00811126, '2025-11-26 07:40:10', 'admin'),
(111, 2, 1, 3984.26663790, '2025-11-26 07:40:10', 'admin'),
(112, 1, 2, 0.00025099, '2025-11-26 07:40:10', 'admin'),
(113, 4, 1, 25.50431370, '2025-11-27 06:05:49', 'admin'),
(114, 1, 4, 0.03920905, '2025-11-27 06:05:49', 'admin'),
(115, 3, 1, 123.68417270, '2025-11-27 06:05:50', 'admin'),
(116, 1, 3, 0.00808511, '2025-11-27 06:05:50', 'admin'),
(117, 2, 1, 3987.78917710, '2025-11-27 06:05:50', 'admin'),
(118, 1, 2, 0.00025077, '2025-11-27 06:05:50', 'admin'),
(119, 2, 1, 4092.73099755, '2025-11-27 09:12:48', 'admin'),
(120, 1, 2, 0.00024434, '2025-11-27 09:12:48', 'admin'),
(121, 1, 4, 0.07449700, '2025-11-27 09:13:01', 'admin'),
(122, 4, 1, 13.42335933, '2025-11-27 09:13:01', 'admin'),
(123, 3, 1, 126.93901935, '2025-11-27 09:13:47', 'admin'),
(124, 1, 3, 0.00787780, '2025-11-27 09:13:47', 'admin'),
(125, 4, 1, 26.21122140, '2025-12-01 07:11:30', 'admin'),
(126, 1, 4, 0.03815160, '2025-12-01 07:11:30', 'admin'),
(127, 3, 1, 127.24251150, '2025-12-01 07:11:30', 'admin'),
(128, 1, 3, 0.00785901, '2025-12-01 07:11:30', 'admin'),
(129, 2, 1, 4092.79665015, '2025-12-01 07:11:30', 'admin'),
(130, 1, 2, 0.00024433, '2025-12-01 07:11:30', 'admin'),
(131, 4, 1, 26.35773465, '2025-12-02 06:56:02', 'admin'),
(132, 1, 4, 0.03793953, '2025-12-02 06:56:02', 'admin'),
(133, 3, 1, 127.76905830, '2025-12-02 06:56:02', 'admin'),
(134, 1, 3, 0.00782662, '2025-12-02 06:56:02', 'admin'),
(135, 2, 1, 4086.24124155, '2025-12-02 06:56:03', 'admin'),
(136, 1, 2, 0.00024472, '2025-12-02 06:56:03', 'admin'),
(137, 4, 1, 26.23760295, '2025-12-03 06:17:46', 'admin'),
(138, 1, 4, 0.03811324, '2025-12-03 06:17:46', 'admin'),
(139, 3, 1, 127.81760550, '2025-12-03 06:17:46', 'admin'),
(140, 1, 3, 0.00782365, '2025-12-03 06:17:46', 'admin'),
(141, 2, 1, 4091.08415040, '2025-12-03 06:17:47', 'admin'),
(142, 1, 2, 0.00024443, '2025-12-03 06:17:47', 'admin'),
(143, 4, 1, 26.28475200, '2025-12-04 07:52:30', 'admin'),
(144, 1, 4, 0.03804487, '2025-12-04 07:52:30', 'admin'),
(145, 3, 1, 128.18707200, '2025-12-04 07:52:30', 'admin'),
(146, 1, 3, 0.00780110, '2025-12-04 07:52:30', 'admin'),
(147, 2, 1, 4091.08922235, '2025-12-04 07:52:31', 'admin'),
(148, 1, 2, 0.00024443, '2025-12-04 07:52:31', 'admin');

-- --------------------------------------------------------

--
-- Table structure for table `fees`
--

CREATE TABLE `fees` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `from_currency_id` int(11) DEFAULT NULL,
  `to_currency_id` int(11) DEFAULT NULL,
  `amount_converted` decimal(20,8) NOT NULL,
  `tax_amount` decimal(20,8) NOT NULL,
  `tax_rate` decimal(5,4) DEFAULT 0.0500,
  `operation_type` varchar(20) NOT NULL DEFAULT 'conversion',
  `request_id` int(11) DEFAULT NULL,
  `currency_id` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `fees`
--

INSERT INTO `fees` (`id`, `user_id`, `from_currency_id`, `to_currency_id`, `amount_converted`, `tax_amount`, `tax_rate`, `operation_type`, `request_id`, `currency_id`, `created_at`) VALUES
(1, 3, 1, 2, 312.55000000, 15.63000000, 0.0500, 'conversion', 2001, 2, '2025-10-02 10:23:00'),
(2, 21, 3, 4, 155.22000000, 7.76000000, 0.0500, 'withdrawal', 2002, 4, '2025-10-02 13:40:00'),
(3, 17, 2, 1, 428.90000000, 21.44000000, 0.0500, 'conversion', 2003, 1, '2025-10-02 16:11:00'),
(4, 23, 4, 2, 245.33000000, 12.27000000, 0.0500, 'conversion', 2004, 2, '2025-10-04 11:22:00'),
(5, 3, 2, 3, 181.44000000, 9.07000000, 0.0500, 'withdrawal', 2005, 3, '2025-10-04 13:15:00'),
(6, 17, 1, 4, 349.77000000, 17.49000000, 0.0500, 'conversion', 2006, 4, '2025-10-04 18:55:00'),
(7, 21, 3, 1, 298.22000000, 14.91000000, 0.0500, 'conversion', 2007, 1, '2025-10-06 09:21:00'),
(8, 23, 1, 4, 422.90000000, 21.14000000, 0.0500, 'withdrawal', 2008, 4, '2025-10-06 13:18:00'),
(9, 3, 4, 3, 212.44000000, 10.62000000, 0.0500, 'conversion', 2009, 3, '2025-10-06 15:20:00'),
(10, 17, 1, 2, 178.39000000, 8.92000000, 0.0500, 'withdrawal', 2010, 2, '2025-10-08 10:11:00'),
(11, 23, 3, 4, 367.55000000, 18.37000000, 0.0500, 'conversion', 2011, 4, '2025-10-08 12:33:00'),
(12, 21, 2, 1, 412.10000000, 20.60000000, 0.0500, 'conversion', 2012, 1, '2025-10-08 17:02:00'),
(13, 3, 4, 2, 298.88000000, 14.94000000, 0.0500, 'conversion', 2013, 2, '2025-10-10 10:34:00'),
(14, 17, 3, 1, 221.77000000, 11.08000000, 0.0500, 'withdrawal', 2014, 1, '2025-10-10 13:45:00'),
(15, 21, 1, 3, 391.22000000, 19.56000000, 0.0500, 'conversion', 2015, 3, '2025-10-10 18:55:00'),
(16, 23, 2, 4, 318.90000000, 15.95000000, 0.0500, 'conversion', 2016, 4, '2025-10-12 09:13:00'),
(17, 3, 4, 1, 184.33000000, 9.21000000, 0.0500, 'withdrawal', 2017, 1, '2025-10-12 11:44:00'),
(18, 17, 1, 2, 299.11000000, 14.95000000, 0.0500, 'conversion', 2018, 2, '2025-10-12 16:22:00'),
(19, 21, 3, 1, 344.22000000, 17.21000000, 0.0500, 'conversion', 2019, 1, '2025-10-15 10:43:00'),
(20, 23, 4, 2, 133.77000000, 6.69000000, 0.0500, 'withdrawal', 2020, 2, '2025-10-15 14:17:00'),
(21, 3, 1, 4, 256.55000000, 12.82000000, 0.0500, 'conversion', 2021, 4, '2025-10-15 19:30:00'),
(22, 17, 2, 3, 399.44000000, 19.97000000, 0.0500, 'conversion', 2022, 3, '2025-10-17 09:20:00'),
(23, 21, 3, 4, 177.33000000, 8.86000000, 0.0500, 'withdrawal', 2023, 4, '2025-10-17 11:52:00'),
(24, 23, 4, 1, 288.55000000, 14.42000000, 0.0500, 'conversion', 2024, 1, '2025-10-17 16:12:00'),
(25, 3, 1, 3, 331.44000000, 16.57000000, 0.0500, 'conversion', 2025, 3, '2025-10-19 08:44:00'),
(26, 23, 2, 4, 241.33000000, 12.06000000, 0.0500, 'withdrawal', 2026, 4, '2025-10-19 10:19:00'),
(27, 21, 4, 2, 455.77000000, 22.79000000, 0.0500, 'conversion', 2027, 2, '2025-10-19 14:51:00'),
(28, 17, 1, 4, 187.33000000, 9.37000000, 0.0500, 'withdrawal', 2028, 4, '2025-10-21 09:10:00'),
(29, 3, 3, 2, 422.10000000, 21.10000000, 0.0500, 'conversion', 2029, 2, '2025-10-21 12:33:00'),
(30, 23, 4, 1, 373.88000000, 18.69000000, 0.0500, 'conversion', 2030, 1, '2025-10-21 17:10:00'),
(31, 21, 2, 3, 255.44000000, 12.77000000, 0.0500, 'conversion', 2031, 3, '2025-10-23 10:40:00'),
(32, 17, 3, 1, 382.33000000, 19.12000000, 0.0500, 'withdrawal', 2032, 1, '2025-10-23 14:27:00'),
(33, 3, 1, 4, 199.55000000, 9.97000000, 0.0500, 'conversion', 2033, 4, '2025-10-23 18:56:00'),
(34, 23, 2, 1, 277.77000000, 13.89000000, 0.0500, 'withdrawal', 2034, 1, '2025-10-26 11:10:00'),
(35, 21, 4, 3, 388.10000000, 19.40000000, 0.0500, 'conversion', 2035, 3, '2025-10-26 13:28:00'),
(36, 17, 3, 2, 133.88000000, 6.69000000, 0.0500, 'conversion', 2036, 2, '2025-10-26 16:00:00'),
(37, 3, 1, 2, 355.33000000, 17.76000000, 0.0500, 'conversion', 2037, 2, '2025-10-29 09:33:00'),
(38, 17, 4, 3, 204.22000000, 10.21000000, 0.0500, 'withdrawal', 2038, 3, '2025-10-29 12:19:00'),
(39, 23, 3, 1, 421.10000000, 21.05000000, 0.0500, 'conversion', 2039, 1, '2025-10-29 18:51:00'),
(40, 21, 2, 4, 144.22000000, 7.21000000, 0.0500, 'conversion', 2040, 4, '2025-11-01 10:11:00'),
(41, 3, 4, 1, 399.77000000, 19.99000000, 0.0500, 'withdrawal', 2041, 1, '2025-11-01 12:55:00'),
(42, 23, 1, 3, 333.22000000, 16.66000000, 0.0500, 'conversion', 2042, 3, '2025-11-01 15:44:00'),
(43, 17, 3, 4, 228.10000000, 11.40000000, 0.0500, 'conversion', 2043, 4, '2025-11-03 09:10:00'),
(44, 3, 4, 2, 177.44000000, 8.87000000, 0.0500, 'withdrawal', 2044, 2, '2025-11-03 13:29:00'),
(45, 21, 1, 3, 455.10000000, 22.75000000, 0.0500, 'conversion', 2045, 3, '2025-11-03 18:12:00'),
(46, 23, 3, 1, 299.22000000, 14.96000000, 0.0500, 'conversion', 2046, 1, '2025-11-05 10:33:00'),
(47, 17, 2, 4, 166.44000000, 8.32000000, 0.0500, 'withdrawal', 2047, 4, '2025-11-05 13:47:00'),
(48, 21, 4, 3, 421.55000000, 21.07000000, 0.0500, 'conversion', 2048, 3, '2025-11-05 17:10:00'),
(49, 3, 1, 4, 255.33000000, 12.77000000, 0.0500, 'conversion', 2049, 4, '2025-11-08 09:20:00'),
(50, 17, 3, 2, 388.90000000, 19.44000000, 0.0500, 'withdrawal', 2050, 2, '2025-11-08 12:15:00'),
(51, 21, 4, 1, 144.50000000, 7.22000000, 0.0500, 'conversion', 2051, 1, '2025-11-08 15:51:00'),
(52, 23, 2, 3, 328.55000000, 16.42000000, 0.0500, 'conversion', 2052, 3, '2025-11-10 10:44:00'),
(53, 3, 4, 2, 412.55000000, 20.62000000, 0.0500, 'withdrawal', 2053, 2, '2025-11-10 13:40:00'),
(54, 21, 1, 4, 233.10000000, 11.65000000, 0.0500, 'conversion', 2054, 4, '2025-11-10 16:32:00'),
(55, 17, 3, 1, 178.90000000, 8.94000000, 0.0500, 'withdrawal', 2055, 1, '2025-11-12 09:22:00'),
(56, 23, 1, 2, 377.44000000, 18.87000000, 0.0500, 'conversion', 2056, 2, '2025-11-12 12:58:00'),
(57, 3, 4, 3, 299.88000000, 14.99000000, 0.0500, 'conversion', 2057, 3, '2025-11-12 17:12:00'),
(58, 21, 2, 1, 266.55000000, 13.33000000, 0.0500, 'withdrawal', 2058, 1, '2025-11-14 11:02:00'),
(59, 17, 4, 3, 440.99000000, 22.05000000, 0.0500, 'conversion', 2059, 3, '2025-11-14 13:20:00'),
(60, 23, 3, 2, 201.77000000, 10.09000000, 0.0500, 'conversion', 2060, 2, '2025-11-14 18:44:00'),
(61, 3, 3, 4, 312.10000000, 15.60000000, 0.0500, 'conversion', 2061, 4, '2025-11-16 10:40:00'),
(62, 17, 1, 3, 288.55000000, 14.42000000, 0.0500, 'withdrawal', 2062, 3, '2025-11-16 13:52:00'),
(63, 21, 2, 4, 412.22000000, 20.61000000, 0.0500, 'conversion', 2063, 4, '2025-11-16 17:28:00'),
(64, 23, 1, 4, 366.44000000, 18.32000000, 0.0500, 'conversion', 2064, 4, '2025-11-18 10:10:00'),
(65, 17, 3, 2, 188.55000000, 9.42000000, 0.0500, 'withdrawal', 2065, 2, '2025-11-18 12:40:00'),
(66, 21, 4, 1, 420.77000000, 21.04000000, 0.0500, 'conversion', 2066, 1, '2025-11-18 16:54:00'),
(67, 3, 1, 2, 288.33000000, 14.41000000, 0.0500, 'conversion', 2067, 2, '2025-11-21 10:44:00'),
(68, 21, 4, 3, 399.10000000, 19.95000000, 0.0500, 'withdrawal', 2068, 3, '2025-11-21 13:17:00'),
(69, 17, 3, 1, 222.88000000, 11.14000000, 0.0500, 'conversion', 2069, 1, '2025-11-21 17:55:00'),
(70, 23, 2, 4, 311.77000000, 15.59000000, 0.0500, 'conversion', 2070, 4, '2025-11-22 09:23:00'),
(71, 3, 4, 1, 277.33000000, 13.86000000, 0.0500, 'withdrawal', 2071, 1, '2025-11-22 12:51:00'),
(72, 21, 1, 2, 355.55000000, 17.78000000, 0.0500, 'conversion', 2072, 2, '2025-11-22 18:05:00'),
(73, 17, 3, 4, 166.22000000, 8.31000000, 0.0500, 'withdrawal', 2073, 4, '2025-11-23 09:19:00'),
(74, 23, 4, 2, 390.88000000, 19.54000000, 0.0500, 'conversion', 2074, 2, '2025-11-23 13:42:00'),
(75, 3, 1, 3, 411.99000000, 20.60000000, 0.0500, 'conversion', 2075, 3, '2025-11-23 16:33:00'),
(76, 21, 2, 3, 288.90000000, 14.44000000, 0.0500, 'conversion', 2076, 3, '2025-11-24 10:14:00'),
(77, 3, 3, 1, 233.44000000, 11.67000000, 0.0500, 'withdrawal', 2077, 1, '2025-11-24 13:18:00'),
(78, 17, 1, 4, 144.88000000, 7.24000000, 0.0500, 'conversion', 2078, 4, '2025-11-24 17:41:00'),
(79, 23, 2, 1, 333.22000000, 16.66000000, 0.0500, 'withdrawal', 2079, 1, '2025-11-25 09:40:00'),
(80, 21, 4, 3, 388.44000000, 19.42000000, 0.0500, 'conversion', 2080, 3, '2025-11-25 12:55:00'),
(81, 17, 3, 2, 141.33000000, 7.06000000, 0.0500, 'conversion', 2081, 2, '2025-11-25 16:11:00'),
(82, 3, 2, 4, 213.77000000, 10.69000000, 0.0500, 'conversion', 2082, 4, '2025-11-26 11:33:00'),
(83, 23, 3, 1, 309.10000000, 15.46000000, 0.0500, 'withdrawal', 2083, 1, '2025-11-26 13:44:00'),
(84, 21, 4, 2, 455.33000000, 22.77000000, 0.0500, 'conversion', 2084, 2, '2025-11-26 18:22:00'),
(85, 17, 1, 3, 167.88000000, 8.39000000, 0.0500, 'withdrawal', 2085, 3, '2025-11-27 09:24:00'),
(86, 3, 4, 1, 299.22000000, 14.96000000, 0.0500, 'conversion', 2086, 1, '2025-11-27 12:37:00'),
(87, 23, 3, 2, 411.33000000, 20.56000000, 0.0500, 'conversion', 2087, 2, '2025-11-27 17:51:00'),
(88, 21, 2, 4, 244.33000000, 12.21000000, 0.0500, 'conversion', 2088, 4, '2025-11-28 10:11:00'),
(89, 17, 4, 3, 266.55000000, 13.32000000, 0.0500, 'withdrawal', 2089, 3, '2025-11-28 14:20:00'),
(90, 3, 3, 1, 389.10000000, 19.45000000, 0.0500, 'conversion', 2090, 1, '2025-11-28 18:40:00'),
(91, 23, 1, 2, 355.44000000, 17.77000000, 0.0500, 'conversion', 2091, 2, '2025-11-29 11:26:00'),
(92, 21, 4, 1, 199.33000000, 9.97000000, 0.0500, 'withdrawal', 2092, 1, '2025-11-29 14:52:00'),
(93, 17, 2, 3, 433.22000000, 21.66000000, 0.0500, 'conversion', 2093, 3, '2025-11-29 17:33:00'),
(94, 3, 3, 4, 144.77000000, 7.23000000, 0.0500, 'withdrawal', 2094, 4, '2025-11-30 10:20:00'),
(95, 23, 2, 1, 399.44000000, 19.97000000, 0.0500, 'conversion', 2095, 1, '2025-11-30 13:55:00'),
(96, 21, 4, 3, 299.10000000, 14.95000000, 0.0500, 'conversion', 2096, 3, '2025-11-30 18:02:00'),
(97, 17, 1, 3, 166.33000000, 8.31000000, 0.0500, 'withdrawal', 2097, 3, '2025-12-01 09:22:00'),
(98, 3, 4, 2, 410.44000000, 20.52000000, 0.0500, 'conversion', 2098, 2, '2025-12-01 12:18:00'),
(99, 21, 3, 1, 277.88000000, 13.89000000, 0.0500, 'conversion', 2099, 1, '2025-12-01 16:41:00'),
(100, 23, 1, 4, 366.55000000, 18.33000000, 0.0500, 'conversion', 2100, 4, '2025-12-02 10:40:00'),
(101, 17, 4, 2, 255.22000000, 12.76000000, 0.0500, 'withdrawal', 2101, 2, '2025-12-02 13:12:00'),
(102, 3, 3, 1, 188.10000000, 9.40000000, 0.0500, 'conversion', 2102, 1, '2025-12-02 17:50:00'),
(103, 21, 2, 3, 355.99000000, 17.80000000, 0.0500, 'conversion', 2103, 3, '2025-12-03 10:33:00'),
(104, 3, 4, 1, 244.22000000, 12.21000000, 0.0500, 'withdrawal', 2104, 1, '2025-12-03 13:58:00'),
(105, 23, 1, 2, 411.55000000, 20.57000000, 0.0500, 'conversion', 2105, 2, '2025-12-03 16:44:00'),
(106, 17, 3, 4, 312.10000000, 15.60000000, 0.0500, 'conversion', 2106, 4, '2025-12-04 10:25:00'),
(107, 21, 4, 3, 177.55000000, 8.88000000, 0.0500, 'withdrawal', 2107, 3, '2025-12-04 13:51:00'),
(108, 3, 1, 2, 422.33000000, 21.11000000, 0.0500, 'conversion', 2108, 2, '2025-12-04 18:14:00');

-- --------------------------------------------------------

--
-- Table structure for table `login_throttle`
--

CREATE TABLE `login_throttle` (
  `email` varchar(191) NOT NULL,
  `attempts` int(11) NOT NULL DEFAULT 0,
  `locked_until` datetime DEFAULT NULL,
  `last_attempt_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `login_throttle`
--

INSERT INTO `login_throttle` (`email`, `attempts`, `locked_until`, `last_attempt_at`) VALUES
('', 1, NULL, '2025-11-06 07:33:54'),
('aungmyint@gmail.com', 0, NULL, '2025-11-07 08:27:29'),
('ayeaye@gmail.com', 0, NULL, '2025-11-11 09:09:29'),
('ayeayemyat341535@gmail.com', 0, NULL, '2025-11-27 08:24:48'),
('johan073612@gmail.com', 0, NULL, '2025-10-30 09:43:17'),
('maynandar18112004@gmail.com', 0, NULL, '2025-11-26 10:22:02'),
('testingforproject1111@gmail.com', 0, NULL, '2025-12-04 10:19:57'),
('zuly@gmail.com', 1, NULL, '2025-11-06 09:42:57'),
('zulyhtet77@gmail.com', 0, NULL, '2025-12-04 08:03:59'),
('zulyhtet@nmdc.edu.mm', 0, NULL, '2025-10-30 08:21:39');

-- --------------------------------------------------------

--
-- Table structure for table `otp_codes`
--

CREATE TABLE `otp_codes` (
  `email` varchar(100) DEFAULT NULL,
  `otp_code` int(6) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `otp_codes`
--

INSERT INTO `otp_codes` (`email`, `otp_code`, `created_at`) VALUES
('ayeayemyat922003@gmail.com', 0, '2025-09-17 06:52:41'),
('ayemyat922003@gmail.com', 0, '2025-09-17 06:54:22');

-- --------------------------------------------------------

--
-- Table structure for table `p2p_trades`
--

CREATE TABLE `p2p_trades` (
  `trade_id` int(11) NOT NULL,
  `buyer_user_id` int(11) DEFAULT NULL,
  `seller_user_id` int(11) NOT NULL,
  `trade_type` enum('buy','sell') NOT NULL DEFAULT 'sell',
  `buy_currency_id` int(11) NOT NULL,
  `sell_currency_id` int(11) NOT NULL,
  `amount_sold` decimal(18,2) NOT NULL,
  `amount_bought` decimal(18,2) NOT NULL,
  `exchange_rate` decimal(20,6) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp(),
  `status` enum('open','completed','cancelled') NOT NULL,
  `remaining_amount` decimal(18,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `p2p_trades`
--

INSERT INTO `p2p_trades` (`trade_id`, `buyer_user_id`, `seller_user_id`, `trade_type`, `buy_currency_id`, `sell_currency_id`, `amount_sold`, `amount_bought`, `exchange_rate`, `timestamp`, `status`, `remaining_amount`) VALUES
(18, 2, 3, 'buy', 1, 2, 1.00, 10000.00, 1000.000000, '2025-09-01 09:03:39', 'completed', 0.00),
(21, 3, 2, 'sell', 2, 1, 2000.00, 2.00, 1000.000000, '2025-09-02 07:35:21', 'completed', 0.00),
(22, 3, 2, 'buy', 2, 1, 5000.00, 5.00, 1000.000000, '2025-09-02 07:37:26', 'completed', 0.00),
(23, 2, 3, 'sell', 2, 1, 200.00, 2.00, 1000.000000, '2025-09-02 07:47:53', 'completed', 0.00),
(25, 2, 3, 'sell', 1, 2, 2.00, 2000.00, 1000.000000, '2025-09-02 08:48:27', 'completed', 0.00),
(26, 3, 2, 'sell', 1, 2, 5.00, 5000.00, 1000.000000, '2025-09-02 08:50:00', 'completed', 0.00),
(27, 2, 3, 'buy', 1, 2, 10.00, 10000.00, 1000.000000, '2025-09-02 15:52:11', 'completed', 0.00),
(28, 3, 2, 'sell', 1, 2, 3.00, 3000.00, 1000.000000, '2025-09-02 15:52:46', 'completed', 0.00),
(29, 2, 3, 'sell', 1, 2, 2.00, 2000.00, 1000.000000, '2025-09-02 15:54:57', 'completed', 0.00),
(30, 2, 3, 'sell', 2, 1, 3000.00, 3.00, 1000.000000, '2025-09-02 16:00:44', 'completed', 0.00),
(31, 2, 3, 'buy', 1, 2, 5.00, 5000.00, 1000.000000, '2025-09-02 16:01:03', 'completed', 0.00),
(32, 3, 2, 'sell', 2, 1, 5000.00, 5.00, 1000.000000, '2025-09-03 07:49:01', 'completed', 0.00),
(33, 3, 2, 'sell', 1, 2, 5.00, 5000.00, 1000.000000, '2025-09-03 08:46:20', 'completed', 0.00),
(34, 3, 2, 'sell', 1, 2, 5.00, 5000.00, 1000.000000, '2025-09-03 16:00:52', 'completed', 0.00),
(35, 3, 2, 'sell', 1, 2, 6.00, 6000.00, 1000.000000, '2025-09-03 16:02:08', 'completed', 0.00),
(36, 2, 3, 'sell', 1, 2, 7.00, 7000.00, 1000.000000, '2025-09-03 16:03:25', 'completed', 0.00),
(37, 3, 2, 'sell', 1, 2, 5.00, 5000.00, 1000.000000, '2025-09-09 06:22:44', 'completed', 0.00),
(39, 2, 3, 'sell', 2, 1, 2000.00, 2.00, 1000.000000, '2025-09-10 17:00:14', 'completed', 0.00),
(41, 3, 2, 'sell', 1, 2, 10.00, 10000.00, 1000.000000, '2025-09-10 17:17:24', 'completed', 0.00),
(42, 3, 2, 'sell', 1, 2, 10.00, 10000.00, 1000.000000, '2025-09-10 18:03:34', 'completed', 0.00),
(43, 2, 3, 'sell', 1, 2, 15.00, 15000.00, 1000.000000, '2025-09-10 18:07:28', 'completed', 0.00),
(44, 2, 3, 'sell', 2, 1, 6000.00, 6.00, 1000.000000, '2025-09-10 18:07:42', 'completed', 0.00),
(46, 3, 2, 'sell', 2, 1, 20000.00, 20.00, 1000.000000, '2025-09-10 18:17:31', 'completed', 0.00),
(48, 3, 2, 'sell', 1, 2, 3.00, 3000.00, 1000.000000, '2025-09-10 19:03:13', 'completed', 0.00),
(49, 3, 2, 'sell', 1, 2, 5.00, 5000.00, 1000.000000, '2025-09-10 19:16:45', 'completed', 0.00),
(50, 3, 2, 'sell', 2, 1, 5000.00, 5.00, 1000.000000, '2025-09-10 19:17:35', 'completed', 0.00),
(51, 3, 2, 'sell', 2, 1, 5000.00, 5.00, 1000.000000, '2025-09-10 19:22:42', 'completed', 0.00),
(52, 3, 2, 'sell', 2, 1, 20000.00, 20.00, 1000.000000, '2025-09-11 03:46:45', 'completed', 0.00),
(55, 3, 2, 'sell', 1, 2, 2.00, 2000.00, 1000.000000, '2025-09-11 07:43:54', 'completed', 0.00),
(56, 3, 2, 'sell', 2, 1, 3000.00, 3.00, 1000.000000, '2025-09-11 07:44:08', 'completed', 0.00),
(57, 3, 2, 'sell', 2, 1, 3000.00, 3.00, 1000.000000, '2025-09-12 14:14:55', 'completed', 0.00),
(61, 3, 2, 'sell', 1, 2, 3.00, 3000.00, 1000.000000, '2025-09-12 14:36:28', 'completed', 0.00),
(330, NULL, 17, 'sell', 1, 2, 2.50, 10000.00, 4000.000000, '2025-11-17 07:06:56', 'open', 2.50),
(331, NULL, 17, 'sell', 2, 1, 8200.00, 2.00, 4100.000000, '2025-11-17 07:07:12', 'open', 8200.00),
(332, NULL, 17, 'buy', 1, 2, 2.41, 10000.00, 4150.000000, '2025-11-17 07:07:34', 'open', 10000.00),
(333, NULL, 17, 'buy', 2, 1, 7900.00, 2.00, 3950.000000, '2025-11-17 07:07:50', 'open', 2.00),
(334, NULL, 17, 'sell', 4, 2, 6.67, 1000.00, 0.006667, '2025-11-17 07:08:05', 'open', 750.00),
(335, NULL, 17, 'sell', 2, 4, 310.00, 2.00, 155.000000, '2025-11-17 07:08:20', 'open', 1.03),
(336, NULL, 17, 'buy', 4, 2, 6.25, 1000.00, 0.006250, '2025-11-17 07:08:45', 'open', 800.00),
(337, NULL, 17, 'buy', 2, 4, 300.00, 2.00, 150.000000, '2025-11-17 07:08:57', 'open', 2.00),
(338, NULL, 17, 'sell', 3, 2, 28.57, 1000.00, 0.028571, '2025-11-17 07:09:12', 'open', 930.00),
(340, NULL, 17, 'buy', 3, 2, 27.78, 1000.00, 0.027778, '2025-11-17 07:09:40', 'open', 800.00),
(341, NULL, 17, 'buy', 2, 3, 72.00, 2.00, 36.000000, '2025-11-17 07:09:54', 'open', 2.00),
(342, NULL, 17, 'sell', 4, 1, 30000.00, 1000.00, 30.000000, '2025-11-17 07:10:14', 'open', 27000.00),
(343, NULL, 17, 'sell', 1, 4, 333.00, 10000.00, 30.000000, '2025-11-17 07:10:26', 'open', 233.00),
(344, NULL, 17, 'buy', 4, 1, 30000.00, 1000.00, 30.000000, '2025-11-17 07:10:44', 'open', 1000.00),
(345, NULL, 17, 'buy', 1, 4, 333.00, 10000.00, 30.000000, '2025-11-17 07:11:00', 'open', 10000.00),
(346, NULL, 17, 'sell', 3, 4, 5000.00, 1000.00, 5.000000, '2025-11-17 07:11:19', 'open', 960.00),
(347, NULL, 17, 'sell', 4, 3, 200.00, 1000.00, 0.200000, '2025-11-17 07:11:32', 'open', 750.00),
(348, NULL, 17, 'buy', 3, 4, 5000.00, 1000.00, 5.000000, '2025-11-17 07:11:47', 'open', 1000.00),
(349, NULL, 17, 'buy', 4, 3, 200.00, 1000.00, 0.200000, '2025-11-17 07:12:02', 'open', 800.00),
(353, NULL, 21, 'sell', 4, 2, 6.45, 1000.00, 0.006452, '2025-11-17 08:17:44', 'open', 845.00),
(354, NULL, 21, 'sell', 3, 4, 5000.00, 1000.00, 5.000000, '2025-11-17 08:32:15', 'open', 1000.00);

-- --------------------------------------------------------

--
-- Table structure for table `p2p_trade_history`
--

CREATE TABLE `p2p_trade_history` (
  `history_id` int(11) NOT NULL,
  `trade_id` int(11) NOT NULL,
  `buyer_user_id` int(11) NOT NULL,
  `seller_user_id` int(11) NOT NULL,
  `buy_currency_id` int(11) NOT NULL,
  `sell_currency_id` int(11) NOT NULL,
  `amount_bought` decimal(18,2) NOT NULL,
  `amount_sold` decimal(18,2) NOT NULL,
  `exchange_rate` decimal(20,6) NOT NULL,
  `completion_timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `p2p_trade_history`
--

INSERT INTO `p2p_trade_history` (`history_id`, `trade_id`, `buyer_user_id`, `seller_user_id`, `buy_currency_id`, `sell_currency_id`, `amount_bought`, `amount_sold`, `exchange_rate`, `completion_timestamp`) VALUES
(3, 25, 2, 3, 1, 2, 2000.00, 2.00, 1000.000000, '2025-09-03 08:45:41'),
(5, 36, 2, 3, 1, 2, 7000.00, 7.00, 1000.000000, '2025-09-03 16:04:16'),
(7, 37, 3, 2, 1, 2, 5000.00, 5.00, 1000.000000, '2025-09-09 06:56:25'),
(8, 35, 3, 2, 1, 2, 6000.00, 6.00, 1000.000000, '2025-09-09 06:58:53'),
(9, 34, 3, 2, 1, 2, 5000.00, 5.00, 1000.000000, '2025-09-10 16:08:03'),
(14, 39, 2, 3, 2, 1, 2.00, 2000.00, 1000.000000, '2025-09-10 18:03:09'),
(16, 44, 2, 3, 2, 1, 6.00, 6000.00, 1000.000000, '2025-09-10 18:08:26'),
(17, 43, 2, 3, 1, 2, 7000.00, 7.00, 1000.000000, '2025-09-10 18:13:29'),
(18, 43, 2, 3, 1, 2, 15000.00, 15.00, 1000.000000, '2025-09-10 18:14:41'),
(19, 42, 3, 2, 1, 2, 2000.00, 2.00, 1000.000000, '2025-09-10 18:38:59'),
(21, 42, 3, 2, 1, 2, 2000.00, 2.00, 1000.000000, '2025-09-10 18:47:40'),
(22, 42, 3, 2, 1, 2, 10000.00, 10.00, 1000.000000, '2025-09-10 18:58:36'),
(23, 46, 3, 2, 2, 1, 5.00, 5000.00, 1000.000000, '2025-09-10 19:15:34'),
(24, 50, 3, 2, 2, 1, 2.00, 2000.00, 1000.000000, '2025-09-10 19:17:54'),
(25, 50, 3, 2, 2, 1, 2.00, 2000.00, 1000.000000, '2025-09-10 19:18:04'),
(26, 50, 3, 2, 2, 1, 5.00, 5000.00, 1000.000000, '2025-09-10 19:18:07'),
(27, 51, 3, 2, 2, 1, 3.00, 3000.00, 1000.000000, '2025-09-10 19:23:03'),
(28, 51, 3, 2, 2, 1, 5.00, 5000.00, 1000.000000, '2025-09-10 19:23:23'),
(29, 48, 3, 2, 1, 2, 3000.00, 3.00, 1000.000000, '2025-09-11 03:47:36'),
(30, 49, 3, 2, 1, 2, 2000.00, 2.00, 1000.000000, '2025-09-11 03:47:59'),
(31, 52, 3, 2, 2, 1, 2.00, 2000.00, 1000.000000, '2025-09-11 03:48:18'),
(32, 33, 3, 2, 1, 2, 5000.00, 5.00, 1000.000000, '2025-09-11 03:49:48'),
(34, 49, 3, 2, 1, 2, 5000.00, 5.00, 1000.000000, '2025-09-11 03:50:44'),
(37, 55, 3, 2, 1, 2, 2000.00, 2.00, 1000.000000, '2025-09-11 07:44:27'),
(38, 56, 3, 2, 2, 1, 1.00, 1000.00, 1000.000000, '2025-09-11 07:45:08'),
(39, 56, 3, 2, 2, 1, 2.00, 2000.00, 1000.000000, '2025-09-11 07:45:29'),
(40, 52, 3, 2, 2, 1, 18.00, 18000.00, 1000.000000, '2025-09-12 06:26:37'),
(41, 46, 3, 2, 2, 1, 1.00, 1000.00, 1000.000000, '2025-09-12 06:27:22'),
(42, 46, 3, 2, 2, 1, 3.00, 3000.00, 1000.000000, '2025-09-12 06:28:08'),
(43, 61, 3, 2, 1, 2, 1500.00, 1.50, 1000.000000, '2025-09-12 14:39:54'),
(44, 61, 3, 2, 1, 2, 1500.00, 1.50, 1000.000000, '2025-09-12 14:40:34'),
(45, 57, 3, 2, 2, 1, 2.00, 2000.00, 1000.000000, '2025-09-12 14:42:42'),
(46, 57, 3, 2, 2, 1, 1.00, 1000.00, 1000.000000, '2025-09-12 14:42:58'),
(48, 46, 3, 2, 2, 1, 5.00, 5000.00, 1000.000000, '2025-09-12 16:17:01'),
(49, 46, 3, 2, 2, 1, 1.00, 1000.00, 1000.000000, '2025-09-15 09:10:44'),
(50, 46, 3, 2, 2, 1, 1.00, 1000.00, 1000.000000, '2025-09-15 09:14:12'),
(51, 46, 3, 2, 2, 1, 4.00, 4000.00, 1000.000000, '2025-09-15 09:14:14'),
(140, 336, 21, 17, 4, 2, 100.00, 0.63, 0.006250, '2025-11-17 08:37:39');

-- --------------------------------------------------------

--
-- Table structure for table `password_resets`
--

CREATE TABLE `password_resets` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `token` varchar(191) NOT NULL,
  `expires_at` datetime NOT NULL,
  `used` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `password_resets`
--

INSERT INTO `password_resets` (`id`, `user_id`, `token`, `expires_at`, `used`) VALUES
(1, 8, 'dbfc455a94d2a123e85726ed6d89420b8e92335eb8cdc4904e6475a275ad10d7', '2025-10-30 09:09:06', 1),
(2, 8, 'e081b6cf64310c04c937dcf89358041327da5dadb8dd85bfd8486705362de6cc', '2025-10-30 09:11:47', 1),
(3, 8, '41a62afd386bcbe62001a40be4277171b3b09ba06f89d555e3790ab4d7fb9c7f', '2025-10-30 09:16:44', 0),
(4, 10, 'a6e783dc007617031f48eca7395d351cfd3af2f1b0b1a6f2eacecb156655a383', '2025-10-30 09:22:10', 1),
(5, 10, 'd06693fe5ddd4cf25f48a1a95fb35edc5100559accd8cdd63e72ba169e320948', '2025-10-30 09:28:48', 1),
(6, 10, '4963f325d1ed292217ff7c417f96059a2bbfc4443937b3478a5dc4978996fd56', '2025-10-30 09:30:07', 1),
(7, 10, '4fe34328dbe494a0b93072ca76b0f2cd2f70630de5d38e8bd4613d43a93ad792', '2025-10-30 09:31:16', 1),
(8, 10, 'b03802ae01fd675c50e0af04357065991bf2ce3b9ed12bd6ff00d9cbec100fe2', '2025-10-30 09:34:23', 1),
(9, 10, '46c32b15a6371532cb95d45c5955dd6cdc84ab3886cecc0b02a221192af5f5e6', '2025-10-30 09:41:49', 1),
(10, 10, 'a0a1734c80137eaac76441cc1d4d19f22a21334dfe780e39126591f7fc2ae1e4', '2025-10-30 09:45:50', 1),
(11, 10, '09853bbcee94558c7f5555ec7e8c63fc51e323ce7896399be6d8c3e41e49ac0c', '2025-10-30 09:54:52', 1),
(12, 10, 'd09abb6e13b9371eca555847c0b1e606ca84a8706831c89a07bbaf4739dbaf46', '2025-10-30 09:58:18', 1),
(13, 10, '10fe8b22a179dba820f434a5855a9217f4a5512ddc7114bd30d1d30be17c89ec', '2025-10-30 10:02:46', 0),
(14, 11, 'c89237a3a7cc5aa25d40a7d7037fe1f95ffc649db257120cddc544ccf557700f', '2025-10-30 10:20:06', 1),
(15, 21, '3437f5d37fa955495b76dd88b32e311291a1d091b86f2220fbe0389a350290f3', '2025-12-04 10:19:53', 1);

-- --------------------------------------------------------

--
-- Table structure for table `pin_reset_tokens`
--

CREATE TABLE `pin_reset_tokens` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `token` varchar(128) NOT NULL,
  `expires_at` datetime NOT NULL,
  `used` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `transactions`
--

CREATE TABLE `transactions` (
  `transaction_id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `type` enum('Deposit','Withdrawal') NOT NULL,
  `currency_id` int(11) NOT NULL,
  `amount` decimal(20,2) NOT NULL,
  `status` enum('Pending','Admin Verified','Completed','Rejected') DEFAULT 'Completed',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `user_payment_id` varchar(255) DEFAULT NULL,
  `proof_of_screenshot` varchar(255) DEFAULT NULL,
  `admin_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `transactions`
--

INSERT INTO `transactions` (`transaction_id`, `user_id`, `type`, `currency_id`, `amount`, `status`, `timestamp`, `user_payment_id`, `proof_of_screenshot`, `admin_id`) VALUES
(4, 2, 'Deposit', 2, 2.00, 'Completed', '2025-09-08 16:20:49', '0', NULL, 1),
(5, 2, 'Deposit', 1, 199.99, 'Completed', '2025-09-08 16:31:05', '0', NULL, 1),
(6, 2, 'Deposit', 2, 0.99, 'Completed', '2025-09-08 16:34:20', '0', NULL, 1),
(7, 2, 'Deposit', 2, 1.00, 'Completed', '2025-09-08 16:35:48', '0', NULL, 1),
(8, 2, 'Deposit', 2, 1.00, 'Completed', '2025-09-08 16:38:05', '0', NULL, 1),
(9, 2, 'Withdrawal', 2, 2.00, 'Completed', '2025-09-08 16:39:15', '0', NULL, 1),
(10, 2, 'Withdrawal', 1, 14.94, 'Completed', '2025-09-09 06:28:30', '0', NULL, 1),
(11, 2, 'Deposit', 1, 10.05, 'Completed', '2025-09-09 06:33:09', '0', NULL, 1),
(12, 3, 'Deposit', 2, 10.00, 'Completed', '2025-09-09 07:23:38', '0', NULL, 1),
(13, 3, 'Withdrawal', 1, 1000.00, 'Completed', '2025-09-09 07:27:24', '0', NULL, 1),
(14, 2, 'Deposit', 1, 10000.00, 'Completed', '2025-09-10 06:39:51', '0', NULL, 1),
(15, 2, 'Deposit', 1, 9999.99, 'Completed', '2025-09-10 06:47:26', '1234567890', NULL, 1),
(16, 2, 'Deposit', 2, 1.99, 'Completed', '2025-09-10 07:15:28', '1234567890', 'uploads/68c120dd2fe4f-Screenshot 2025-09-02 223856.png', 1),
(17, 2, 'Deposit', 1, 999.99, 'Completed', '2025-09-10 07:46:39', '1234567890', 'uploads/68c12bcc11b9b-edited_db_diagram.png', 1),
(18, 2, 'Deposit', 2, 2.00, 'Completed', '2025-09-10 07:49:39', '1234567890', 'uploads/68c12cfc12f40-edited_db_diagram.png', 1),
(19, 2, 'Withdrawal', 2, 3.00, 'Completed', '2025-09-10 08:26:12', '0', NULL, 1),
(20, 2, 'Withdrawal', 1, 2000.00, 'Completed', '2025-09-10 08:27:22', '0', NULL, 1),
(21, 2, 'Deposit', 1, 1000.00, 'Completed', '2025-09-10 08:27:31', '1234567890', 'uploads/68c13643a3d07-edited_db_diagram.png', 1),
(22, 2, 'Withdrawal', 1, 400.00, 'Completed', '2025-09-10 08:37:32', '0', NULL, 1),
(23, 2, 'Withdrawal', 1, 200.00, 'Completed', '2025-09-10 08:38:29', '0', NULL, 1),
(24, 2, 'Withdrawal', 2, 2.98, 'Completed', '2025-09-10 09:02:17', NULL, NULL, 1),
(25, 2, 'Withdrawal', 2, 2.00, 'Completed', '2025-09-10 09:05:47', NULL, NULL, 1),
(26, 2, 'Withdrawal', 1, 2000.00, 'Completed', '2025-09-10 09:11:38', NULL, NULL, 1),
(27, 2, 'Withdrawal', 1, 2.00, 'Completed', '2025-09-10 09:14:03', NULL, NULL, 1),
(28, 2, 'Deposit', 1, 1000.00, 'Completed', '2025-09-10 09:22:56', '1234567890', 'uploads/68c143595b1ed-edited_db_diagram.png', 1),
(29, 2, 'Withdrawal', 1, 2000.00, 'Completed', '2025-09-10 09:23:16', NULL, NULL, 1),
(30, 2, 'Withdrawal', 1, 500.00, 'Completed', '2025-09-10 15:41:26', NULL, NULL, 1),
(31, 2, 'Deposit', 1, 500.00, 'Completed', '2025-09-10 15:41:30', '1234567890', 'uploads/68c19beab0f16-edited_db_diagram.png', 1),
(32, 2, 'Withdrawal', 2, 2.00, 'Completed', '2025-09-10 17:22:11', NULL, NULL, 1),
(33, 3, 'Withdrawal', 1, 2000.00, 'Completed', '2025-09-11 04:07:28', NULL, NULL, 1),
(34, 3, 'Deposit', 1, 14999.98, 'Completed', '2025-09-12 12:54:17', '1234567890', 'uploads/68c417ee362d1-Screenshot 2025-09-02 223856.png', 1),
(35, 3, 'Deposit', 1, 10000.00, 'Completed', '2025-09-12 12:54:21', '1234567890', 'uploads/68c417c254301-Screenshot 2025-09-02 223856.png', 1),
(36, 3, 'Withdrawal', 2, 9.00, 'Completed', '2025-09-12 13:39:37', NULL, NULL, 1),
(37, 3, 'Withdrawal', 2, 9.00, 'Completed', '2025-09-12 13:44:50', NULL, NULL, 1),
(38, 3, 'Withdrawal', 2, 5.00, 'Completed', '2025-09-12 13:44:57', NULL, NULL, 1),
(39, 2, 'Deposit', 2, 29.98, 'Completed', '2025-09-12 14:22:33', '1234567890', 'uploads/68c42c9278a41-Screenshot 2025-09-02 223856.png', 1),
(40, 3, 'Withdrawal', 1, 999.99, 'Completed', '2025-09-12 14:58:56', NULL, NULL, 1),
(41, 3, 'Deposit', 1, 1999.99, 'Completed', '2025-09-12 15:06:06', 'sfdg', 'uploads/68c436d50d333-Screenshot 2025-09-02 223856.png', 1),
(42, 3, 'Deposit', 1, 1999.97, 'Completed', '2025-09-12 15:06:25', 'fthgjy', 'uploads/68c424043e42a-Screenshot 2025-09-02 223856.png', 1),
(43, 3, 'Deposit', 1, 499.98, 'Completed', '2025-09-12 15:08:27', 'xgdf', 'uploads/68c43761e5852-Screenshot 2025-09-02 223856.png', 1),
(44, 3, 'Deposit', 1, 99.98, 'Completed', '2025-09-12 15:27:30', 'dfg', 'uploads/68c43bd64da39-Screenshot 2025-09-02 223856.png', 1),
(45, 3, 'Deposit', 1, 2000.00, 'Completed', '2025-09-12 15:28:07', '1234567890', 'uploads/68c43aa5d0575-Screenshot 2025-09-02 223856.png', 1),
(46, 3, 'Deposit', 1, 1999.98, 'Completed', '2025-09-12 16:16:02', 'drtgdr', 'uploads/68c4449161832-Screenshot 2025-09-02 223856.png', 1),
(47, 3, 'Withdrawal', 2, 2.98, 'Completed', '2025-09-14 13:16:16', NULL, NULL, 1),
(53, 3, 'Deposit', 1, 2000.00, 'Completed', '2025-10-10 08:48:53', '728839283', 'uploads/68e8c850b64c8-Screenshot 2025-09-11 150927.png', 1),
(54, 3, 'Deposit', 1, 10000.00, 'Completed', '2025-10-15 06:35:13', '11771717', 'uploads/68edfc1ab758e-Screenshot (1).png', 1),
(66, 3, 'Deposit', 1, 50000.00, 'Completed', '2025-10-30 08:51:43', 'sfdg', 'uploads/6903270211e02-KD 6010 BB.jpg', 1),
(74, 2, 'Deposit', 2, 199.98, 'Completed', '2025-10-31 08:39:27', '1234567890', 'uploads/690475a640f75-photo_2025-05-25_18-04-31.jpg', 1),
(75, 2, 'Deposit', 1, 200000.00, 'Completed', '2025-10-31 08:39:31', '1234567890', 'uploads/690475918a475-photo_2025-05-25_18-04-31.jpg', 1),
(76, 17, 'Deposit', 2, 199.98, 'Completed', '2025-11-07 06:47:08', '1234567890', 'uploads/690d95bfba022-KD 6010 BB.jpg', 1),
(77, 17, 'Deposit', 1, 200000.00, 'Completed', '2025-11-07 06:47:12', '1234567890', 'uploads/690d95adcab72-KD 6010 BB.jpg', 1),
(78, 17, 'Deposit', 1, 199999.99, 'Completed', '2025-11-12 07:09:51', '1234567890', 'uploads/691432b3a3fd8-KD 6010 BB.jpg', 1),
(89, 21, 'Deposit', 1, 100000.00, 'Completed', '2025-12-01 15:55:48', '1234567890', 'uploads/692d49844d867-Screenshot 2025-09-02 223856.png', 1),
(90, 21, 'Deposit', 1, 999.99, 'Completed', '2025-12-01 15:57:33', 'fthgjy', 'uploads/692dbad9c4389-Screenshot 2025-09-02 223856.png', 1),
(91, 21, 'Deposit', 1, 99.99, 'Completed', '2025-12-01 16:17:21', '1234567890', 'uploads/692dbf86c5752-Screenshot 2025-09-02 223856.png', 1),
(95, 21, 'Withdrawal', 3, 1000.00, 'Completed', '2025-12-04 09:30:06', NULL, NULL, 1);

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `user_id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `email` varchar(100) NOT NULL,
  `verified_status` tinyint(1) NOT NULL DEFAULT 0,
  `phone_number` varchar(20) DEFAULT NULL,
  `nrc_number` varchar(255) DEFAULT NULL,
  `nrc_front_photo` varchar(255) DEFAULT NULL,
  `nrc_back_photo` varchar(255) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `country` varchar(100) NOT NULL,
  `user_status` tinyint(1) NOT NULL DEFAULT 1,
  `user_walletAddress` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`user_id`, `username`, `first_name`, `last_name`, `password_hash`, `email`, `verified_status`, `phone_number`, `nrc_number`, `nrc_front_photo`, `nrc_back_photo`, `created_at`, `country`, `user_status`, `user_walletAddress`) VALUES
(2, 'Aye', '', '', '$2y$10$wi5lF3DSqQ29m2V4cSFwqeDEmmR0Mr26BfhLnKZKspem8AREPZkZy', 'ayeaye@gmail.com', 1, '09876543211', '12/SAKHANA(N)876544', 'test.jpg', 'test.jpg', '2025-08-27 15:59:50', '', 1, ''),
(3, 'Aung Myint Thu', '', '', '$2y$10$27TYrLaGDTclqttmxbvUieitvXO6QnNFuucM/B4qW6AtFELt0KLiq', 'aungmyint@gmail.com', 1, '09876543221', '12/SAKHANA(N)879087', 'test.jpg', 'test.jpg', '2025-08-28 08:24:11', '', 1, ''),
(5, 'Kyaw Zin ', 'Kyaw', 'Zin ', '$2y$10$SeeGWGBNQn90F4er.nRQC.YitDCVl/w6P1T5uVGGoW9VqZ0uLexPS', 'nyeinoo599@gmail.com', 1, '+95 098765432', '12/ThaKaTa(N)079673', '68d4fe13467a6_1758789139.png', '68d4fe134b010_1758789139.png', '2025-09-25 08:32:19', 'MM', 1, ''),
(6, 'Nyo Gyi', 'Nyo', 'Gyi', '$2y$10$HL9IpInHfpyJux6KHCECaOgXPZehoLJgC6k1BPMPM6NxSFyxoqMWa', 'jeffauren@gmail.com', 0, '+1 12812737', '12/ThaKaTa(N)110315', '68e765d32a0a7_1759995347.png', '68e765d32dafd_1759995347.jpg', '2025-10-09 07:35:47', 'US', 1, ''),
(12, 'NING nNn', 'NING', 'nNn', '$2y$10$YJlo2.sunibCiYn.UFRmOuT/UwjDfMvCQ6lnLEdt05D0fxMH7PEdm', 'johan073612@gmail.com', 1, '+95 997727822', '12/DaLaNa(N)110315', '6903247327ab3_1761813619.jpg', '69032473280f0_1761813619.jpg', '2025-10-30 08:40:19', 'MM', 1, ''),
(17, 'May Nandar', 'May', 'Nandar', '$2y$10$RyD3w0ej.JrQ/jILtTDMv.RfpPnLy0p7EtyN07Q2j43XmnpDl7xAC', 'maynandar18112004@gmail.com', 1, '+95 9798462926', '2/DaLaNa(N)123456', '690d95835ac0f_1762497923.jpg', '690d95835b4c7_1762497923.jpg', '2025-11-07 06:45:23', 'MM', 1, ''),
(21, 'Test Ting', 'Test', 'Ting', '$2y$10$GkNt07F/B5xrj9ci90HBk.SVOareueEYz2fq22s7gZM7qPPT.kbpi', 'testingforproject1111@gmail.com', 1, '+95 9876543123', '2/DaLaNa(N)999999', '691ad44d84461_1763365965.jpg', '691ad44d845ac_1763365965.jpg', '2025-11-17 07:52:45', 'MM', 1, '8dde8792-03de-4bb0-a95e-2ff165059473'),
(22, 'Aye Myat', 'Aye', 'Myat', '$2y$10$4swtTFyIeJSiIkBygYeUCeQT5E5u8OeD5e2mQv4nUvPfVtX/1/tim', 'ayeayemyat341535@gmail.com', 1, '+95 9876565773', '2/ThaKaTa(V)111111', '6927fcb2c2eea_1764228274.png', '6927fcb2c3c18_1764228274.png', '2025-11-27 07:24:34', 'MM', 1, 'cf768544-e951-4345-a9f2-2f84afbbebef'),
(23, 'Kay Khine Bo', 'Kay Khine', 'Bo', '$2y$10$hU0qNlxjUVA2.9e4eILrreX6VxYCOLMSIOCumLVvN1XyOHXhzRmjG', 'kaykhinebo.kkb@gmail.com', 1, '+95 9876574859', '1/ThaKaTa(N)222222', '6927ff214edcc_1764228897.png', '6927ff214f09a_1764228897.png', '2025-11-27 07:34:57', 'MM', 1, '5d5d18cb-74d5-4850-92d3-83d2bacbc975');

-- --------------------------------------------------------

--
-- Table structure for table `user_bans`
--

CREATE TABLE `user_bans` (
  `ban_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `banned_by_admin_id` int(11) NOT NULL,
  `ban_reason` varchar(500) DEFAULT NULL,
  `ban_duration_days` int(11) NOT NULL COMMENT 'Duration in days (1, 3, 7, 30, or 9999 for permanent)',
  `banned_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `expires_at` timestamp NULL DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT 1,
  `unbanned_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user_bans`
--

INSERT INTO `user_bans` (`ban_id`, `user_id`, `banned_by_admin_id`, `ban_reason`, `ban_duration_days`, `banned_at`, `expires_at`, `is_active`, `unbanned_at`) VALUES
(1, 5, 1, 'no data', 1, '2025-10-09 07:15:45', '2025-10-10 02:45:45', 0, '2025-10-09 07:16:17'),
(2, 2, 1, 'no data', 1, '2025-10-09 07:17:11', '2025-10-10 02:47:11', 0, '2025-10-09 07:18:01'),
(3, 3, 1, 'no data', 1, '2025-10-09 07:18:08', '2025-10-10 02:48:08', 0, '2025-10-09 07:19:22'),
(4, 3, 1, 'no data', 1, '2025-10-09 07:23:48', '2025-10-10 02:53:48', 0, '2025-10-09 07:24:46'),
(5, 3, 1, 'faaaa', 1, '2025-10-09 07:25:52', '2025-10-10 02:55:52', 0, '2025-10-09 07:38:25'),
(6, 6, 1, 'ban', 1, '2025-10-09 07:36:32', '2025-10-10 03:06:32', 0, '2025-10-09 07:38:32'),
(7, 3, 1, 'no data', 1, '2025-10-13 06:29:15', '2025-10-14 01:59:15', 0, '2025-10-13 06:31:07'),
(8, 3, 1, 'no data', 1, '2025-10-14 06:49:23', '2025-10-15 02:19:22', 0, '2025-10-14 06:50:29'),
(9, 3, 1, 'bb', 1, '2025-10-14 06:53:11', '2025-10-15 02:23:11', 0, '2025-10-14 06:57:25'),
(10, 3, 1, 'bb', 1, '2025-10-14 06:53:30', '2025-10-15 02:23:30', 0, '2025-10-14 06:57:25'),
(11, 3, 1, 's', 1, '2025-10-14 08:32:54', '2025-10-15 04:02:54', 0, '2025-10-14 08:33:41'),
(12, 3, 1, 'f u', 1, '2025-10-15 09:25:19', '2025-10-16 04:55:19', 0, '2025-10-15 09:26:05'),
(13, 3, 1, 'bb', 1, '2025-10-16 06:59:57', '2025-10-17 02:29:57', 0, '2025-10-16 07:01:30'),
(14, 5, 1, 'a myin kat loh', 1, '2025-11-06 06:26:53', '2025-11-07 00:56:53', 0, '2025-11-06 06:27:12');

-- --------------------------------------------------------

--
-- Table structure for table `user_currency_requests`
--

CREATE TABLE `user_currency_requests` (
  `request_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `admin_id` int(11) DEFAULT NULL,
  `currency_id` int(11) NOT NULL,
  `amount` decimal(20,2) NOT NULL,
  `status` enum('pending','completed','rejected') DEFAULT 'pending',
  `transaction_type` enum('deposit','withdrawal') NOT NULL,
  `user_payment_id` varchar(255) DEFAULT NULL,
  `proof_of_screenshot` varchar(255) DEFAULT NULL,
  `payment_channel` varchar(32) DEFAULT NULL,
  `description` varchar(255) DEFAULT NULL,
  `request_timestamp` timestamp NOT NULL DEFAULT current_timestamp(),
  `decision_timestamp` timestamp NULL DEFAULT NULL,
  `is_cleared` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user_currency_requests`
--

INSERT INTO `user_currency_requests` (`request_id`, `user_id`, `admin_id`, `currency_id`, `amount`, `status`, `transaction_type`, `user_payment_id`, `proof_of_screenshot`, `payment_channel`, `description`, `request_timestamp`, `decision_timestamp`, `is_cleared`) VALUES
(12, 2, 1, 2, 0.99, 'completed', 'deposit', '1234567890', NULL, NULL, NULL, '2025-09-08 16:34:02', NULL, 1),
(22, 3, 1, 1, 1000.00, 'completed', 'withdrawal', NULL, NULL, NULL, 'fgsfrf', '2025-09-09 07:26:52', NULL, 1),
(72, 2, 1, 1, 10000.00, 'rejected', 'deposit', '1234567890', 'uploads/68c3d53d85dac-edited_db_diagram.png', NULL, NULL, '2025-09-12 08:09:33', NULL, 0),
(73, 2, 1, 1, 9999.98, 'rejected', 'withdrawal', NULL, NULL, NULL, 'rdfghfth', '2025-09-12 08:11:49', NULL, 1),
(77, 3, 1, 1, 10000.00, 'completed', 'deposit', '1234567890', 'uploads/68c417c254301-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 12:53:22', NULL, 1),
(78, 3, 1, 1, 14999.98, 'completed', 'deposit', '1234567890', 'uploads/68c417ee362d1-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 12:54:06', NULL, 1),
(80, 3, 1, 1, 5000.00, 'rejected', 'withdrawal', NULL, NULL, NULL, 'dghbh', '2025-09-12 12:59:05', NULL, 1),
(81, 3, 1, 1, 5000.00, 'rejected', 'withdrawal', NULL, NULL, NULL, 'ftujgyu', '2025-09-12 13:00:44', NULL, 1),
(83, 3, 1, 2, 9.00, 'completed', 'withdrawal', NULL, NULL, NULL, 'dryrty', '2025-09-12 13:12:45', NULL, 1),
(84, 3, 1, 1, 2000.00, 'rejected', 'withdrawal', NULL, NULL, NULL, 'fthfgh', '2025-09-12 13:40:15', NULL, 1),
(85, 3, 1, 2, 5.00, 'completed', 'withdrawal', NULL, NULL, NULL, 'dfyhfty', '2025-09-12 13:44:44', NULL, 1),
(86, 3, 1, 1, 1999.97, 'completed', 'deposit', 'fthgjy', 'uploads/68c424043e42a-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 13:45:40', NULL, 1),
(87, 2, 1, 2, 29.98, 'completed', 'deposit', '1234567890', 'uploads/68c42c9278a41-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 14:22:10', NULL, 1),
(88, 3, 1, 1, 999.99, 'completed', 'withdrawal', NULL, NULL, NULL, 'xdgfgh', '2025-09-12 14:58:42', NULL, 1),
(89, 3, 1, 1, 1999.99, 'completed', 'deposit', 'sfdg', 'uploads/68c436d50d333-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 15:05:57', NULL, 1),
(90, 3, 1, 1, 499.98, 'completed', 'deposit', 'xgdf', 'uploads/68c43761e5852-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 15:08:17', NULL, 1),
(91, 3, 1, 1, 2000.00, 'completed', 'deposit', '1234567890', 'uploads/68c43aa5d0575-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 15:22:13', NULL, 1),
(92, 3, 1, 1, 99.98, 'completed', 'deposit', 'dfg', 'uploads/68c43bd64da39-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 15:27:18', NULL, 1),
(93, 3, 1, 1, 2000.00, 'rejected', 'withdrawal', NULL, NULL, NULL, 'hjfjy', '2025-09-12 15:32:04', NULL, 1),
(94, 3, 1, 2, 2.98, 'completed', 'withdrawal', NULL, NULL, NULL, 'sers', '2025-09-12 16:04:17', NULL, 1),
(95, 3, 1, 1, 1999.98, 'completed', 'deposit', 'drtgdr', 'uploads/68c4449161832-Screenshot 2025-09-02 223856.png', NULL, NULL, '2025-09-12 16:04:33', NULL, 1),
(96, 3, 1, 1, 2000.00, 'completed', 'deposit', '728839283', 'uploads/68e8c850b64c8-Screenshot 2025-09-11 150927.png', NULL, NULL, '2025-10-10 08:48:16', NULL, 1),
(97, 3, 1, 1, 10000.00, 'completed', 'deposit', '11771717', 'uploads/68edfc1ab758e-Screenshot (1).png', NULL, NULL, '2025-10-14 07:30:34', NULL, 1),
(98, 3, 1, 1, 1000.00, 'rejected', 'deposit', '11771717', 'uploads/68ef625f0641f-Screenshot (1).png', NULL, NULL, '2025-10-15 08:59:11', NULL, 1),
(99, 3, 1, 2, 11.00, 'rejected', 'withdrawal', NULL, NULL, NULL, 'Kpay', '2025-10-15 09:00:39', NULL, 1),
(115, 3, 1, 1, 50000.00, 'completed', 'deposit', 'sfdg', 'uploads/6903270211e02-KD 6010 BB.jpg', NULL, NULL, '2025-10-30 08:51:14', NULL, 1),
(128, 2, 1, 1, 200000.00, 'completed', 'deposit', '1234567890', 'uploads/690475918a475-photo_2025-05-25_18-04-31.jpg', NULL, NULL, '2025-10-31 08:38:41', NULL, 0),
(129, 2, 1, 2, 199.98, 'completed', 'deposit', '1234567890', 'uploads/690475a640f75-photo_2025-05-25_18-04-31.jpg', NULL, NULL, '2025-10-31 08:39:02', NULL, 0),
(130, 17, 1, 1, 200000.00, 'completed', 'deposit', '1234567890', 'uploads/690d95adcab72-KD 6010 BB.jpg', NULL, NULL, '2025-11-07 06:46:05', NULL, 0),
(131, 17, 1, 2, 199.98, 'completed', 'deposit', '1234567890', 'uploads/690d95bfba022-KD 6010 BB.jpg', NULL, NULL, '2025-11-07 06:46:23', NULL, 0),
(132, 17, 1, 1, 199999.99, 'completed', 'deposit', '1234567890', 'uploads/691432b3a3fd8-KD 6010 BB.jpg', NULL, NULL, '2025-11-12 07:09:39', NULL, 0),
(151, 21, 1, 1, 100000.00, 'completed', 'deposit', '1234567890', 'uploads/692d49844d867-Screenshot 2025-09-02 223856.png', 'KPay', NULL, '2025-12-01 07:53:40', '2025-12-01 15:55:48', 0),
(152, 21, 1, 2, 100.00, 'rejected', 'deposit', '1234567890', 'uploads/692d499ddead0-Screenshot 2025-09-02 223856.png', 'WavePay', NULL, '2025-12-01 07:54:05', '2025-12-01 15:55:03', 0),
(153, 21, 1, 1, 999.99, 'completed', 'deposit', 'fthgjy', 'uploads/692dbad9c4389-Screenshot 2025-09-02 223856.png', 'WavePay', NULL, '2025-12-01 15:57:13', '2025-12-01 15:57:33', 0),
(154, 21, 1, 1, 1000.00, 'rejected', 'deposit', '1234567890', 'uploads/692dbe0abb03d-Screenshot 2025-09-02 223856.png', '', NULL, '2025-12-01 16:10:50', '2025-12-01 16:16:32', 0),
(155, 21, 1, 1, 99.99, 'completed', 'deposit', '1234567890', 'uploads/692dbf86c5752-Screenshot 2025-09-02 223856.png', 'wavepay', NULL, '2025-12-01 16:17:10', '2025-12-01 16:17:21', 0),
(162, 21, 1, 3, 1000.00, 'completed', 'withdrawal', NULL, NULL, NULL, 'aedsf', '2025-12-04 09:29:56', '2025-12-04 09:30:06', 0);

-- --------------------------------------------------------

--
-- Table structure for table `user_login_events`
--

CREATE TABLE `user_login_events` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `login_at` datetime NOT NULL DEFAULT current_timestamp(),
  `ip_address` varchar(45) DEFAULT NULL,
  `browser_name` varchar(100) DEFAULT NULL,
  `browser_version` varchar(50) DEFAULT NULL,
  `os_name` varchar(100) DEFAULT NULL,
  `os_version` varchar(50) DEFAULT NULL,
  `device` varchar(100) DEFAULT NULL,
  `user_agent` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user_login_events`
--

INSERT INTO `user_login_events` (`id`, `user_id`, `login_at`, `ip_address`, `browser_name`, `browser_version`, `os_name`, `os_version`, `device`, `user_agent`) VALUES
(1, 7, '2025-10-29 13:41:58', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(2, 8, '2025-10-29 13:58:54', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(3, 8, '2025-10-30 13:17:58', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(4, 3, '2025-10-30 13:20:57', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(5, 8, '2025-10-30 13:31:24', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(6, 10, '2025-10-30 13:51:39', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(7, 11, '2025-10-30 14:43:49', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(8, 11, '2025-10-30 14:53:52', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(9, 11, '2025-10-30 15:06:55', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(10, 12, '2025-10-30 15:13:17', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(11, 3, '2025-10-30 15:17:00', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(12, 3, '2025-10-30 15:19:20', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(13, 13, '2025-10-30 15:33:04', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(14, 13, '2025-10-30 15:39:11', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(15, 14, '2025-10-30 15:56:36', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(16, 14, '2025-10-31 13:03:26', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(17, 14, '2025-10-31 13:16:15', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(18, 15, '2025-10-31 13:22:17', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(19, 3, '2025-10-31 13:24:37', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(20, 2, '2025-10-31 13:26:08', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(21, 2, '2025-10-31 14:03:46', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(22, 16, '2025-10-31 14:44:52', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(23, 2, '2025-10-31 14:54:36', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(24, 16, '2025-10-31 15:06:26', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(25, 2, '2025-10-31 15:06:45', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(26, 16, '2025-10-31 15:10:28', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(27, 2, '2025-10-31 15:23:17', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(28, 16, '2025-10-31 15:24:08', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(29, 16, '2025-11-05 14:54:44', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(30, 16, '2025-11-05 15:06:22', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(31, 16, '2025-11-05 15:26:20', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(32, 16, '2025-11-05 15:29:24', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(33, 16, '2025-11-05 15:38:54', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(34, 16, '2025-11-05 15:40:29', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(35, 16, '2025-11-06 12:54:55', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(36, 16, '2025-11-06 13:01:11', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(37, 16, '2025-11-06 13:07:36', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(38, 2, '2025-11-06 14:48:01', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(39, 16, '2025-11-06 14:48:20', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(40, 16, '2025-11-06 15:14:17', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(41, 2, '2025-11-07 12:52:52', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(42, 16, '2025-11-07 12:57:00', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(43, 17, '2025-11-07 13:15:39', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(44, 2, '2025-11-07 13:26:18', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(45, 17, '2025-11-07 13:27:05', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(46, 16, '2025-11-07 13:29:11', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(47, 17, '2025-11-07 13:38:08', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(48, 16, '2025-11-07 13:40:58', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(49, 16, '2025-11-07 13:44:47', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(50, 17, '2025-11-07 13:45:22', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(51, 16, '2025-11-07 13:46:52', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(52, 2, '2025-11-07 13:54:45', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(53, 3, '2025-11-07 13:57:29', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(67, 16, '2025-11-11 13:35:43', '127.0.0.1', 'Edge', '142.0.0.0', 'Windows', '10/11', 'Windows', NULL),
(68, 16, '2025-11-11 13:43:08', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', NULL),
(69, 16, '2025-11-11 13:44:49', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(70, 16, '2025-11-11 14:27:42', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(71, 17, '2025-11-11 14:37:58', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(72, 2, '2025-11-11 14:39:29', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(73, 16, '2025-11-11 14:40:03', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(74, 16, '2025-11-11 14:54:18', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(75, 16, '2025-11-12 12:52:08', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(76, 17, '2025-11-12 13:03:39', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(77, 16, '2025-11-12 13:05:50', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(78, 17, '2025-11-12 13:23:16', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(79, 16, '2025-11-12 14:58:48', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(80, 16, '2025-11-13 12:49:56', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(81, 16, '2025-11-13 20:05:36', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(82, 17, '2025-11-13 23:26:22', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(83, 16, '2025-11-13 23:28:57', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(84, 17, '2025-11-13 23:55:52', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(85, 16, '2025-11-13 23:59:53', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(86, 17, '2025-11-14 00:21:00', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(87, 16, '2025-11-14 00:21:20', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(88, 17, '2025-11-14 00:37:57', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(89, 16, '2025-11-14 00:45:40', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(90, 16, '2025-11-14 00:49:06', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(91, 17, '2025-11-14 00:50:13', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(92, 16, '2025-11-14 01:02:32', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(93, 16, '2025-11-14 12:09:20', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(94, 17, '2025-11-14 12:17:13', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(95, 16, '2025-11-14 12:24:17', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(96, 17, '2025-11-17 13:24:24', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(97, 16, '2025-11-17 13:32:45', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(98, 17, '2025-11-17 13:35:25', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(99, 16, '2025-11-17 13:42:18', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(100, 20, '2025-11-17 14:08:37', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(101, 16, '2025-11-17 14:13:48', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(102, 20, '2025-11-17 14:14:35', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(103, 21, '2025-11-17 14:23:04', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(104, 16, '2025-11-17 15:19:10', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(105, 16, '2025-11-17 15:31:06', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(106, 16, '2025-11-17 15:59:12', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(107, 16, '2025-11-19 13:02:23', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(108, 16, '2025-11-20 12:42:09', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(109, 16, '2025-11-25 12:55:12', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(110, 16, '2025-11-26 14:09:17', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(111, 17, '2025-11-26 15:52:02', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(112, 21, '2025-11-26 15:52:46', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(113, 16, '2025-11-27 12:35:40', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(114, 22, '2025-11-27 13:54:48', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(115, 16, '2025-11-27 15:43:21', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(116, 21, '2025-12-01 13:47:17', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(117, 21, '2025-12-01 22:26:33', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(118, 16, '2025-12-01 22:53:35', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(119, 16, '2025-12-02 13:08:04', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(120, 16, '2025-12-02 14:10:14', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(121, 16, '2025-12-02 14:13:11', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(122, 16, '2025-12-02 14:16:18', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(123, 21, '2025-12-02 14:19:47', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(124, 16, '2025-12-02 15:14:43', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(125, 16, '2025-12-02 15:22:03', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(126, 16, '2025-12-02 15:29:39', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(127, 16, '2025-12-02 15:38:02', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(128, 16, '2025-12-02 15:39:16', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(129, 16, '2025-12-02 15:39:31', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(130, 16, '2025-12-03 12:46:06', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(131, 16, '2025-12-03 16:02:45', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(132, 16, '2025-12-04 13:34:00', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36'),
(133, 21, '2025-12-04 15:49:57', '127.0.0.1', 'Chrome', '142.0.0.0', 'Windows', '10/11', 'Windows', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36');

-- --------------------------------------------------------

--
-- Table structure for table `user_pins`
--

CREATE TABLE `user_pins` (
  `user_id` int(11) NOT NULL,
  `pin_hash` varchar(255) NOT NULL,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user_pins`
--

INSERT INTO `user_pins` (`user_id`, `pin_hash`, `updated_at`) VALUES
(17, '$2y$10$COoxhwQPFKXXRHCGqSbaY.Lx727NtHM4lTUOD2IpcU5spsDy5TJhS', '2025-11-07 06:45:23'),
(21, '$2y$10$QhvLxsHCfW1Fong4xGYamOqzswihC.OEKIe0A.szXNGepmx/DhfDG', '2025-11-17 07:52:45'),
(22, '$2y$10$v1maK88KfOkKeZ.0MZ5dF.ahaJ2WHWbuh3K1ZN3uk5t01YmvSeA0a', '2025-11-27 07:24:35'),
(23, '$2y$10$SnLdfAkp9vTle10WMKkyS.5YcGxeqJO/4XMsc2Dn0tmle.GusRUSe', '2025-11-27 07:34:57');

-- --------------------------------------------------------

--
-- Table structure for table `wallets`
--

CREATE TABLE `wallets` (
  `wallet_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `currency_id` int(11) NOT NULL,
  `balance` decimal(18,2) NOT NULL,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `wallets`
--

INSERT INTO `wallets` (`wallet_id`, `user_id`, `currency_id`, `balance`, `updated_at`) VALUES
(2, 2, 1, 260150.00, '2025-11-07 06:29:54'),
(3, 2, 2, 260.26, '2025-11-07 06:29:54'),
(5, 3, 2, 38.30, '2025-10-31 08:23:32'),
(7, 3, 1, 248768.15, '2025-10-31 08:23:32'),
(127, 12, 1, 0.00, '2025-10-30 08:40:19'),
(128, 12, 2, 0.00, '2025-10-30 08:40:19'),
(148, 17, 1, 1197099.99, '2025-11-17 07:16:24'),
(149, 17, 2, 1188.30, '2025-11-19 06:40:18'),
(155, 6, 3, 0.00, '2025-11-11 08:31:43'),
(156, 6, 4, 0.00, '2025-11-11 08:31:43'),
(157, 5, 3, 0.00, '2025-11-11 08:31:43'),
(158, 5, 4, 0.00, '2025-11-11 08:31:43'),
(159, 17, 3, 10095.40, '2025-11-19 06:40:18'),
(160, 17, 4, 10083.30, '2025-11-19 06:39:29'),
(163, 12, 3, 0.00, '2025-11-11 08:31:43'),
(164, 12, 4, 0.00, '2025-11-11 08:31:43'),
(165, 2, 3, 0.00, '2025-11-11 08:31:43'),
(166, 2, 4, 0.00, '2025-11-11 08:31:43'),
(167, 3, 3, 0.00, '2025-11-11 08:31:43'),
(168, 3, 4, 0.00, '2025-11-11 08:31:43'),
(181, 21, 1, 1001099.98, '2025-12-04 09:29:10'),
(182, 21, 2, 9996.77, '2025-11-19 06:37:30'),
(183, 21, 4, 10055.00, '2025-11-19 06:37:30'),
(184, 21, 3, 9821.10, '2025-12-04 09:30:06'),
(206, 22, 1, 0.00, '2025-11-27 07:24:34'),
(207, 22, 2, 0.00, '2025-11-27 07:24:34'),
(208, 22, 4, 0.00, '2025-11-27 07:24:34'),
(209, 22, 3, 0.00, '2025-11-27 07:24:34'),
(210, 23, 1, 0.00, '2025-11-27 07:34:57'),
(211, 23, 2, 0.00, '2025-11-27 07:34:57'),
(212, 23, 4, 0.00, '2025-11-27 07:34:57'),
(213, 23, 3, 0.00, '2025-11-27 07:34:57');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admins`
--
ALTER TABLE `admins`
  ADD PRIMARY KEY (`admin_id`),
  ADD UNIQUE KEY `username` (`username`);

--
-- Indexes for table `admin_password_resets`
--
ALTER TABLE `admin_password_resets`
  ADD PRIMARY KEY (`id`),
  ADD KEY `admin_id` (`admin_id`),
  ADD KEY `token` (`token`),
  ADD KEY `expires_at` (`expires_at`);

--
-- Indexes for table `admin_transactions`
--
ALTER TABLE `admin_transactions`
  ADD PRIMARY KEY (`transaction_id`),
  ADD KEY `admin_id` (`admin_id`),
  ADD KEY `currency_id` (`currency_id`);

--
-- Indexes for table `admin_wallet`
--
ALTER TABLE `admin_wallet`
  ADD PRIMARY KEY (`wallet_id`),
  ADD UNIQUE KEY `idx_admin_currency` (`admin_id`,`currency_id`),
  ADD KEY `admin_id` (`admin_id`),
  ADD KEY `currency_id` (`currency_id`);

--
-- Indexes for table `bank_accounts`
--
ALTER TABLE `bank_accounts`
  ADD PRIMARY KEY (`currency_id`);

--
-- Indexes for table `bank_deposit_history`
--
ALTER TABLE `bank_deposit_history`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `chats`
--
ALTER TABLE `chats`
  ADD PRIMARY KEY (`chat_id`),
  ADD KEY `chats_ibfk_3` (`conversation_id`),
  ADD KEY `admin_chat` (`from_id`),
  ADD KEY `user_chat` (`to_id`);

--
-- Indexes for table `conversations`
--
ALTER TABLE `conversations`
  ADD PRIMARY KEY (`conversation_id`),
  ADD UNIQUE KEY `unique_conversation` (`user_1`,`user_2`),
  ADD KEY `conversations_ibfk_2` (`user_2`);

--
-- Indexes for table `currencies`
--
ALTER TABLE `currencies`
  ADD PRIMARY KEY (`currency_id`),
  ADD UNIQUE KEY `symbol` (`symbol`),
  ADD UNIQUE KEY `name` (`name`);

--
-- Indexes for table `email_verification_otps`
--
ALTER TABLE `email_verification_otps`
  ADD PRIMARY KEY (`id`),
  ADD KEY `email` (`email`);

--
-- Indexes for table `email_verification_tokens`
--
ALTER TABLE `email_verification_tokens`
  ADD PRIMARY KEY (`id`),
  ADD KEY `email` (`email`),
  ADD KEY `token` (`token`);

--
-- Indexes for table `exchange_rates`
--
ALTER TABLE `exchange_rates`
  ADD PRIMARY KEY (`rate_id`),
  ADD UNIQUE KEY `unique_rate_pair` (`base_currency_id`,`target_currency_id`),
  ADD KEY `fk_target_currency` (`target_currency_id`);

--
-- Indexes for table `exchange_rate_history`
--
ALTER TABLE `exchange_rate_history`
  ADD PRIMARY KEY (`history_id`),
  ADD KEY `target_currency_id` (`target_currency_id`),
  ADD KEY `idx_currency_pair` (`base_currency_id`,`target_currency_id`),
  ADD KEY `idx_timestamp` (`timestamp`);

--
-- Indexes for table `fees`
--
ALTER TABLE `fees`
  ADD PRIMARY KEY (`id`),
  ADD KEY `from_currency_id` (`from_currency_id`),
  ADD KEY `to_currency_id` (`to_currency_id`),
  ADD KEY `idx_user` (`user_id`),
  ADD KEY `idx_fees_operation_type` (`operation_type`),
  ADD KEY `idx_fees_request_id` (`request_id`),
  ADD KEY `idx_fees_currency_id` (`currency_id`),
  ADD KEY `idx_fees_created_at` (`created_at`);

--
-- Indexes for table `login_throttle`
--
ALTER TABLE `login_throttle`
  ADD PRIMARY KEY (`email`),
  ADD KEY `locked_until` (`locked_until`);

--
-- Indexes for table `otp_codes`
--
ALTER TABLE `otp_codes`
  ADD UNIQUE KEY `email` (`email`);

--
-- Indexes for table `p2p_trades`
--
ALTER TABLE `p2p_trades`
  ADD PRIMARY KEY (`trade_id`),
  ADD KEY `p2p_trades_ibfk_1` (`buyer_user_id`),
  ADD KEY `p2p_trades_ibfk_2` (`seller_user_id`),
  ADD KEY `p2p_trades_ibfk_3` (`buy_currency_id`),
  ADD KEY `p2p_trades_ibfk_4` (`sell_currency_id`);

--
-- Indexes for table `p2p_trade_history`
--
ALTER TABLE `p2p_trade_history`
  ADD PRIMARY KEY (`history_id`),
  ADD KEY `p2p_trade_history_ibfk_1` (`trade_id`),
  ADD KEY `p2p_trade_history_ibfk_2` (`buyer_user_id`),
  ADD KEY `p2p_trade_history_ibfk_3` (`seller_user_id`),
  ADD KEY `p2p_trade_history_ibfk_4` (`buy_currency_id`),
  ADD KEY `p2p_trade_history_ibfk_5` (`sell_currency_id`);

--
-- Indexes for table `password_resets`
--
ALTER TABLE `password_resets`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `token` (`token`),
  ADD KEY `expires_at` (`expires_at`);

--
-- Indexes for table `pin_reset_tokens`
--
ALTER TABLE `pin_reset_tokens`
  ADD PRIMARY KEY (`id`),
  ADD KEY `token` (`token`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `transactions`
--
ALTER TABLE `transactions`
  ADD PRIMARY KEY (`transaction_id`),
  ADD KEY `transactions_ibfk_1` (`user_id`),
  ADD KEY `transactions_ibfk_2` (`currency_id`),
  ADD KEY `transactions_ibfk_3` (`admin_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`user_id`),
  ADD UNIQUE KEY `email` (`email`),
  ADD UNIQUE KEY `nrc_number` (`nrc_number`),
  ADD UNIQUE KEY `phone_number` (`phone_number`);

--
-- Indexes for table `user_bans`
--
ALTER TABLE `user_bans`
  ADD PRIMARY KEY (`ban_id`),
  ADD KEY `idx_user_active` (`user_id`,`is_active`),
  ADD KEY `idx_expires` (`expires_at`);

--
-- Indexes for table `user_currency_requests`
--
ALTER TABLE `user_currency_requests`
  ADD PRIMARY KEY (`request_id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `admin_id` (`admin_id`),
  ADD KEY `currency_id` (`currency_id`);

--
-- Indexes for table `user_login_events`
--
ALTER TABLE `user_login_events`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `login_at` (`login_at`);

--
-- Indexes for table `user_pins`
--
ALTER TABLE `user_pins`
  ADD PRIMARY KEY (`user_id`);

--
-- Indexes for table `wallets`
--
ALTER TABLE `wallets`
  ADD PRIMARY KEY (`wallet_id`),
  ADD UNIQUE KEY `user_id` (`user_id`,`currency_id`),
  ADD KEY `wallets_ibfk_2` (`currency_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `admins`
--
ALTER TABLE `admins`
  MODIFY `admin_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `admin_password_resets`
--
ALTER TABLE `admin_password_resets`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- AUTO_INCREMENT for table `admin_transactions`
--
ALTER TABLE `admin_transactions`
  MODIFY `transaction_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- AUTO_INCREMENT for table `admin_wallet`
--
ALTER TABLE `admin_wallet`
  MODIFY `wallet_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=167;

--
-- AUTO_INCREMENT for table `bank_deposit_history`
--
ALTER TABLE `bank_deposit_history`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT for table `chats`
--
ALTER TABLE `chats`
  MODIFY `chat_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `conversations`
--
ALTER TABLE `conversations`
  MODIFY `conversation_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `currencies`
--
ALTER TABLE `currencies`
  MODIFY `currency_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT for table `email_verification_otps`
--
ALTER TABLE `email_verification_otps`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=18;

--
-- AUTO_INCREMENT for table `email_verification_tokens`
--
ALTER TABLE `email_verification_tokens`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `exchange_rates`
--
ALTER TABLE `exchange_rates`
  MODIFY `rate_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=201;

--
-- AUTO_INCREMENT for table `exchange_rate_history`
--
ALTER TABLE `exchange_rate_history`
  MODIFY `history_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=149;

--
-- AUTO_INCREMENT for table `fees`
--
ALTER TABLE `fees`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=109;

--
-- AUTO_INCREMENT for table `p2p_trades`
--
ALTER TABLE `p2p_trades`
  MODIFY `trade_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=355;

--
-- AUTO_INCREMENT for table `p2p_trade_history`
--
ALTER TABLE `p2p_trade_history`
  MODIFY `history_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=145;

--
-- AUTO_INCREMENT for table `password_resets`
--
ALTER TABLE `password_resets`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT for table `pin_reset_tokens`
--
ALTER TABLE `pin_reset_tokens`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `transactions`
--
ALTER TABLE `transactions`
  MODIFY `transaction_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=96;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `user_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=24;

--
-- AUTO_INCREMENT for table `user_bans`
--
ALTER TABLE `user_bans`
  MODIFY `ban_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=18;

--
-- AUTO_INCREMENT for table `user_currency_requests`
--
ALTER TABLE `user_currency_requests`
  MODIFY `request_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=163;

--
-- AUTO_INCREMENT for table `user_login_events`
--
ALTER TABLE `user_login_events`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=134;

--
-- AUTO_INCREMENT for table `wallets`
--
ALTER TABLE `wallets`
  MODIFY `wallet_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=228;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `admin_transactions`
--
ALTER TABLE `admin_transactions`
  ADD CONSTRAINT `admin_transactions_ibfk_1` FOREIGN KEY (`admin_id`) REFERENCES `admins` (`admin_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `admin_transactions_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `admin_wallet`
--
ALTER TABLE `admin_wallet`
  ADD CONSTRAINT `admin_wallet_ibfk_1` FOREIGN KEY (`admin_id`) REFERENCES `admins` (`admin_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `admin_wallet_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `chats`
--
ALTER TABLE `chats`
  ADD CONSTRAINT `admin_chat` FOREIGN KEY (`from_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `chats_ibfk_3` FOREIGN KEY (`conversation_id`) REFERENCES `conversations` (`conversation_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `user_chat` FOREIGN KEY (`to_id`) REFERENCES `admins` (`admin_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `conversations`
--
ALTER TABLE `conversations`
  ADD CONSTRAINT `conversations_ibfk_1` FOREIGN KEY (`user_1`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `conversations_ibfk_2` FOREIGN KEY (`user_2`) REFERENCES `admins` (`admin_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `exchange_rates`
--
ALTER TABLE `exchange_rates`
  ADD CONSTRAINT `fk_base_currency` FOREIGN KEY (`base_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_target_currency` FOREIGN KEY (`target_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `exchange_rate_history`
--
ALTER TABLE `exchange_rate_history`
  ADD CONSTRAINT `exchange_rate_history_ibfk_1` FOREIGN KEY (`base_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE,
  ADD CONSTRAINT `exchange_rate_history_ibfk_2` FOREIGN KEY (`target_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE;

--
-- Constraints for table `fees`
--
ALTER TABLE `fees`
  ADD CONSTRAINT `fees_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE,
  ADD CONSTRAINT `fees_ibfk_2` FOREIGN KEY (`from_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fees_ibfk_3` FOREIGN KEY (`to_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `p2p_trades`
--
ALTER TABLE `p2p_trades`
  ADD CONSTRAINT `p2p_trades_ibfk_1` FOREIGN KEY (`buyer_user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trades_ibfk_2` FOREIGN KEY (`seller_user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trades_ibfk_3` FOREIGN KEY (`buy_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trades_ibfk_4` FOREIGN KEY (`sell_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `p2p_trade_history`
--
ALTER TABLE `p2p_trade_history`
  ADD CONSTRAINT `p2p_trade_history_ibfk_1` FOREIGN KEY (`trade_id`) REFERENCES `p2p_trades` (`trade_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trade_history_ibfk_2` FOREIGN KEY (`buyer_user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trade_history_ibfk_3` FOREIGN KEY (`seller_user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trade_history_ibfk_4` FOREIGN KEY (`buy_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `p2p_trade_history_ibfk_5` FOREIGN KEY (`sell_currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `pin_reset_tokens`
--
ALTER TABLE `pin_reset_tokens`
  ADD CONSTRAINT `fk_pin_reset_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE;

--
-- Constraints for table `transactions`
--
ALTER TABLE `transactions`
  ADD CONSTRAINT `transactions_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `transactions_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`admin_id`) REFERENCES `admins` (`admin_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `user_bans`
--
ALTER TABLE `user_bans`
  ADD CONSTRAINT `user_bans_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE;

--
-- Constraints for table `user_currency_requests`
--
ALTER TABLE `user_currency_requests`
  ADD CONSTRAINT `user_currency_requests_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `user_currency_requests_ibfk_2` FOREIGN KEY (`admin_id`) REFERENCES `admins` (`admin_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `user_currency_requests_ibfk_3` FOREIGN KEY (`currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `user_pins`
--
ALTER TABLE `user_pins`
  ADD CONSTRAINT `fk_user_pins_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE;

--
-- Constraints for table `wallets`
--
ALTER TABLE `wallets`
  ADD CONSTRAINT `wallets_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `wallets_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `currencies` (`currency_id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
